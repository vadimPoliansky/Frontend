(function(){function bt(e,t){var n;if(!e){e={}}for(n in t){e[n]=t[n]}return e}function wt(){var e,t=arguments,n,r={},i=function(e,t){var n,r;if(typeof e!=="object"){e={}}for(r in t){if(t.hasOwnProperty(r)){n=t[r];if(n&&typeof n==="object"&&Object.prototype.toString.call(n)!=="[object Array]"&&r!=="renderTo"&&typeof n.nodeType!=="number"){e[r]=i(e[r]||{},n)}else{e[r]=t[r]}}}return e};if(t[0]===true){r=t[1];t=Array.prototype.slice.call(t,2)}n=t.length;for(e=0;e<n;e++){r=i(r,t[e])}return r}function Et(e,t){return parseInt(e,t||10)}function St(e){return typeof e==="string"}function xt(e){return e&&typeof e==="object"}function Tt(e){return Object.prototype.toString.call(e)==="[object Array]"}function Nt(e){return typeof e==="number"}function Ct(e){return r.log(e)/r.LN10}function kt(e){return r.pow(10,e)}function Lt(e,t){var n=e.length;while(n--){if(e[n]===t){e.splice(n,1);break}}}function At(t){return t!==e&&t!==null}function Ot(e,t,n){var r,i;if(St(t)){if(At(n)){e.setAttribute(t,n)}else if(e&&e.getAttribute){i=e.getAttribute(t)}}else if(At(t)&&xt(t)){for(r in t){e.setAttribute(r,t[r])}}return i}function Mt(e){return Tt(e)?e:[e]}function _t(){var t=arguments,n,r,i=t.length;for(n=0;n<i;n++){r=t[n];if(r!==e&&r!==null){return r}}}function Dt(t,n){if(m&&!S){if(n&&n.opacity!==e){n.filter="alpha(opacity="+n.opacity*100+")"}}bt(t.style,n)}function Pt(e,n,r,i,s){var o=t.createElement(e);if(n){bt(o,n)}if(s){Dt(o,{padding:0,border:J,margin:0})}if(r){Dt(o,r)}if(i){i.appendChild(o)}return o}function Ht(t,n){var r=function(){return e};r.prototype=new t;bt(r.prototype,n);return r}function Bt(e,t,n,r){var i=yt.numberFormat,s=O.lang,o=+e||0,u=t===-1?(o.toString().split(".")[1]||"").length:isNaN(t=f(t))?2:t,a=n===undefined?s.decimalPoint:n,l=r===undefined?s.thousandsSep:r,c=o<0?"-":"",h=String(Et(o=f(o).toFixed(u))),p=h.length>3?h.length%3:0;return i!==Bt?i(e,t,n,r):c+(p?h.substr(0,p)+l:"")+h.substr(p).replace(/(\d{3})(?=\d)/g,"$1"+l)+(u?a+f(o-h).toFixed(u).slice(2):"")}function jt(e,t){return(new Array((t||2)+1-String(e).length)).join(0)+e}function Ft(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);e.unshift(r);return n.apply(this,e)}}function It(e,t){var n=/f$/,r=/\.([0-9])/,i=O.lang,s;if(n.test(e)){s=e.match(r);s=s?s[1]:-1;if(t!==null){t=Bt(t,s,i.decimalPoint,e.indexOf(",")>-1?i.thousandsSep:"")}}else{t=M(e,t)}return t}function qt(e,t){var n="{",r=false,i,s,o,u,a,f=[],l,c;while((c=e.indexOf(n))!==-1){i=e.slice(0,c);if(r){s=i.split(":");o=s.shift().split(".");a=o.length;l=t;for(u=0;u<a;u++){l=l[o[u]]}if(s.length){l=It(s.join(":"),l)}f.push(l)}else{f.push(i)}e=e.slice(c+1);r=!r;n=r?"}":"{"}f.push(e);return f.join("")}function Rt(e){return r.pow(10,s(r.log(e)/r.LN10))}function Ut(e,t,n,r){var i,s;n=_t(n,1);i=e/n;if(!t){t=[1,2,2.5,5,10];if(r&&r.allowDecimals===false){if(n===1){t=[1,2,5,10]}else if(n<=.1){t=[1/n]}}}for(s=0;s<t.length;s++){e=t[s];if(i<=(t[s]+(t[s+1]||t[s]))/2){break}}e*=n;return e}function zt(e,t){var n=e.length,r,i;for(i=0;i<n;i++){e[i].ss_i=i}e.sort(function(e,n){r=t(e,n);return r===0?e.ss_i-n.ss_i:r});for(i=0;i<n;i++){delete e[i].ss_i}}function Wt(e){var t=e.length,n=e[0];while(t--){if(e[t]<n){n=e[t]}}return n}function Xt(e){var t=e.length,n=e[0];while(t--){if(e[t]>n){n=e[t]}}return n}function Vt(e,t){var n;for(n in e){if(e[n]&&e[n]!==t&&e[n].destroy){e[n].destroy()}delete e[n]}}function $t(e){if(!A){A=Pt(R)}if(e){A.appendChild(e)}A.innerHTML=""}function Jt(e){return parseFloat(e.toPrecision(14))}function Kt(e,t){_=_t(e,t.animation)}function vn(){var e=O.global.useUTC,t=e?"getUTC":"get",n=e?"setUTC":"set";rt=O.global.Date||window.Date;st=(e&&O.global.timezoneOffset||0)*6e4;it=e?rt.UTC:function(e,t,n,r,i,s){return(new rt(e,t,_t(n,1),_t(r,0),_t(i,0),_t(s,0))).getTime()};ot=t+"Minutes";ut=t+"Hours";at=t+"Day";ft=t+"Date";lt=t+"Month";ct=t+"FullYear";ht=n+"Minutes";pt=n+"Hours";dt=n+"Date";vt=n+"Month";mt=n+"FullYear"}function mn(e){O=wt(true,O,e);vn();return O}function gn(){return O}function Sn(){}function An(e,t,n,r){this.axis=e;this.pos=t;this.type=n||"";this.isNew=true;if(!n&&!r){this.addLabel()}}function On(){this.init.apply(this,arguments)}function qn(){this.init.apply(this,arguments)}function Wn(e,t,n,r,i){var s=e.chart.inverted;this.axis=e;this.isNegative=n;this.options=t;this.x=r;this.total=null;this.points={};this.stack=i;this.alignOptions={align:t.align||(s?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(s?"middle":n?"bottom":"top"),y:_t(t.y,s?4:n?14:-6),x:_t(t.x,s?n?-6:6:0)};this.textAlign=t.textAlign||(s?n?"right":"left":"center")}var e,t=document,n=window,r=Math,i=r.round,s=r.floor,o=r.ceil,u=r.max,a=r.min,f=r.abs,l=r.cos,c=r.sin,h=r.PI,p=h*2/360,d=navigator.userAgent,v=n.opera,m=/msie/i.test(d)&&!v,g=t.documentMode===8,y=/AppleWebKit/.test(d),b=/Firefox/.test(d),w=/(Mobile|Android|Windows Phone)/.test(d),E="http://www.w3.org/2000/svg",S=!!t.createElementNS&&!!t.createElementNS(E,"svg").createSVGRect,x=b&&parseInt(d.split("Firefox/")[1],10)<4,T=!S&&!m&&!!t.createElement("canvas").getContext,N,C,k={},L=0,A,O,M,_,D,P,H,B=function(){return e},j=[],F=0,I="Highcharts",q="4.0.3-modified",R="div",U="absolute",z="relative",W="hidden",X="highcharts-",V="visible",$="px",J="none",K="M",Q="L",G=/^[0-9]+$/,Y="",Z="hover",et="select",tt,nt="stroke-width",rt,it,st,ot,ut,at,ft,lt,ct,ht,pt,dt,vt,mt,gt={},yt;if(n.Highcharts){H(16,true)}else{yt=n.Highcharts={}}M=function(e,t,n){if(!At(t)||isNaN(t)){return"Invalid date"}e=_t(e,"%Y-%m-%d %H:%M:%S");var r=new rt(t-st),s,o=r[ut](),u=r[at](),a=r[ft](),f=r[lt](),l=r[ct](),c=O.lang,h=c.weekdays,p=bt({a:h[u].substr(0,3),A:h[u],d:jt(a),e:a,b:c.shortMonths[f],B:c.months[f],m:jt(f+1),y:l.toString().substr(2,2),Y:l,H:jt(o),I:jt(o%12||12),l:o%12||12,M:jt(r[ot]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:jt(r.getSeconds()),L:jt(i(t%1e3),3)},yt.dateFormats);for(s in p){while(e.indexOf("%"+s)!==-1){e=e.replace("%"+s,typeof p[s]==="function"?p[s](t):p[s])}}return n?e.substr(0,1).toUpperCase()+e.substr(1):e};H=function(e,t){var r="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t){throw r}if(n.console){console.log(r)}};P={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:24*36e5,week:7*24*36e5,month:31*24*36e5,year:31556952e3};D={init:function(e,t,n){t=t||"";var r=e.shift,i=t.indexOf("C")>-1,s=i?7:3,o,u,a,f=t.split(" "),l=[].concat(n),c,h,p=function(e){a=e.length;while(a--){if(e[a]===K){e.splice(a+1,0,e[a+1],e[a+2],e[a+1],e[a+2])}}};if(i){p(f);p(l)}if(e.isArea){c=f.splice(f.length-6,6);h=l.splice(l.length-6,6)}if(r<=l.length/s&&f.length===l.length){while(r--){l=[].concat(l).splice(0,s).concat(l)}}e.shift=0;if(f.length){o=l.length;while(f.length<o){u=[].concat(f).splice(f.length-s,s);if(i){u[s-6]=u[s-2];u[s-5]=u[s-1]}f=f.concat(u)}}if(c){f=f.concat(c);l=l.concat(h)}return[f,l]},step:function(e,t,n,r){var i=[],s=e.length,o;if(n===1){i=r}else if(s===t.length&&n<1){while(s--){o=parseFloat(e[s]);i[s]=isNaN(o)?e[s]:n*parseFloat(t[s]-o)+o}}else{i=t}return i}};(function(r){n.HighchartsAdapter=n.HighchartsAdapter||r&&{init:function(t){var n=r.fx;r.extend(r.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}});r.each(["cur","_default","width","height","opacity"],function(t,i){var s=n.step,o;if(i==="cur"){s=n.prototype}else if(i==="_default"&&r.Tween){s=r.Tween.propHooks[i];i="set"}o=s[i];if(o){s[i]=function(n){var r;n=t?n:this;if(n.prop==="align"){return}r=n.elem;return r.attr?r.attr(n.prop,i==="cur"?e:n.now):o.apply(this,arguments)}}});Ft(r.cssHooks.opacity,"get",function(e,t,n){return t.attr?t.opacity||0:e.call(this,t,n)});this.addAnimSetter("d",function(e){var n=e.elem,r;if(!e.started){r=t.init(n,n.d,n.toD);e.start=r[0];e.end=r[1];e.started=true}n.attr("d",t.step(e.start,e.end,e.pos,n.toD))});this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var n,r=e.length;for(n=0;n<r;n++){if(t.call(e[n],e[n],n,e)===false){return n}}};r.fn.highcharts=function(){var t="Chart",n=arguments,r,i,s;if(this[0]){if(St(n[0])){t=n[0];n=Array.prototype.slice.call(n,1)}r=n[0];if(r!==e){r.chart=r.chart||{};r.chart.renderTo=this[0];s=new yt[t](r,n[1]);i=this}if(r===e){i=j[Ot(this[0],"data-highcharts-chart")]}}return i}},addAnimSetter:function(e,t){if(r.Tween){r.Tween.propHooks[e]={set:t}}else{r.fx.step[e]=t}},getScript:r.getScript,inArray:r.inArray,adapterRun:function(e,t){return r(e)[t]()},grep:r.grep,map:function(e,t){var n=[],r=0,i=e.length;for(;r<i;r++){n[r]=t.call(e[r],e[r],r,e)}return n},offset:function(e){return r(e).offset()},addEvent:function(e,t,n){r(e).bind(t,n)},removeEvent:function(e,n,i){var s=t.removeEventListener?"removeEventListener":"detachEvent";if(t[s]&&e&&!e[s]){e[s]=function(){}}r(e).unbind(n,i)},fireEvent:function(e,t,n,i){var s=r.Event(t),o="detached"+t,u;if(!m&&n){delete n.layerX;delete n.layerY;delete n.returnValue}bt(s,n);if(e[t]){e[o]=e[t];e[t]=null}r.each(["preventDefault","stopPropagation"],function(e,t){var n=s[t];s[t]=function(){try{n.call(s)}catch(e){if(t==="preventDefault"){u=true}}}});r(e).trigger(s);if(e[o]){e[t]=e[o];e[o]=null}if(i&&!s.isDefaultPrevented()&&!u){i(s)}},washMouseEvent:function(t){var n=t.originalEvent||t;if(n.pageX===e){n.pageX=t.pageX;n.pageY=t.pageY}return n},animate:function(t,n,i){var s=r(t);if(!t.style){t.style={}}if(n.d){t.toD=n.d;n.d=1}s.stop();if(n.opacity!==e&&t.attr){n.opacity+="px"}s.animate(n,i)},stop:function(e){r(e).stop()}}})(n.jQuery);var Qt=n.HighchartsAdapter,Gt=Qt||{};if(Qt){Qt.init.call(Qt,D)}var Yt=Gt.adapterRun,Zt=Gt.getScript,en=Gt.inArray,tn=Gt.each,nn=Gt.grep,rn=Gt.offset,sn=Gt.map,on=Gt.addEvent,un=Gt.removeEvent,an=Gt.fireEvent,fn=Gt.washMouseEvent,ln=Gt.animate,cn=Gt.stop;var hn={enabled:true,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}};O={colors:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#8085e8","#8d4653","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:true,canvasToolsURL:"http://code.highcharts.com/4.0.3-modified/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.0.3-modified/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:true,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:false,showCheckbox:false,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:true,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:wt(hn,{align:"center",enabled:false,formatter:function(){return this.y===null?"":Bt(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:true,turboThreshold:1e3}},labels:{style:{position:U,color:"#3E576F"}},legend:{enabled:true,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:false,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:U,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:z,top:"45%"},style:{position:U,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:true,animation:S,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">‚óè</span> {series.name}: <b>{point.y}</b><br/>',shadow:true,snap:w?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:true,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var pn=O.plotOptions,dn=pn.line;vn();var yn=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,bn=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,wn=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/;var En=function(e){function i(e){if(e&&e.stops){r=sn(e.stops,function(e){return En(e[1])})}else{n=yn.exec(e);if(n){t=[Et(n[1]),Et(n[2]),Et(n[3]),parseFloat(n[4],10)]}else{n=bn.exec(e);if(n){t=[Et(n[1],16),Et(n[2],16),Et(n[3],16),1]}else{n=wn.exec(e);if(n){t=[Et(n[1]),Et(n[2]),Et(n[3]),1]}}}}}function s(n){var i;if(r){i=wt(e);i.stops=[].concat(i.stops);tn(r,function(e,t){i.stops[t]=[i.stops[t][0],e.get(n)]})}else if(t&&!isNaN(t[0])){if(n==="rgb"){i="rgb("+t[0]+","+t[1]+","+t[2]+")"}else if(n==="a"){i=t[3]}else{i="rgba("+t.join(",")+")"}}else{i=e}return i}function o(e){if(r){tn(r,function(t){t.brighten(e)})}else if(Nt(e)&&e!==0){var n;for(n=0;n<3;n++){t[n]+=Et(e*255);if(t[n]<0){t[n]=0}if(t[n]>255){t[n]=255}}}return this}function u(e){t[3]=e;return this}var t=[],n,r;i(e);return{get:s,brighten:o,rgba:t,setOpacity:u}};Sn.prototype={opacity:1,textProps:["fontSize","fontWeight","fontFamily","color","lineHeight","width","textDecoration","textShadow","HcTextStroke"],init:function(e,n){var r=this;r.element=n==="span"?Pt(n):t.createElementNS(E,n);r.renderer=e},animate:function(e,t,n){var r=_t(t,_,true);cn(this);if(r){r=wt(r,{});if(n){r.complete=n}ln(this,e,r)}else{this.attr(e);if(n){n()}}return this},colorGradient:function(e,t,n){var r=this.renderer,i,s,o,u,a,f,l,c,h,p,d,v=[];if(e.linearGradient){s="linearGradient"}else if(e.radialGradient){s="radialGradient"}if(s){o=e[s];u=r.gradients;f=e.stops;h=n.radialReference;if(Tt(o)){e[s]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}}if(s==="radialGradient"&&h&&!At(o.gradientUnits)){o=wt(o,{cx:h[0]-h[2]/2+o.cx*h[2],cy:h[1]-h[2]/2+o.cy*h[2],r:o.r*h[2],gradientUnits:"userSpaceOnUse"})}for(p in o){if(p!=="id"){v.push(p,o[p])}}for(p in f){v.push(f[p])}v=v.join(",");if(u[v]){d=u[v].attr("id")}else{o.id=d=X+L++;u[v]=a=r.createElement(s).attr(o).add(r.defs);a.stops=[];tn(f,function(e){var t;if(e[1].indexOf("rgba")===0){i=En(e[1]);l=i.get("rgb");c=i.get("a")}else{l=e[1];c=1}t=r.createElement("stop").attr({offset:e[0],"stop-color":l,"stop-opacity":c}).add(a);a.stops.push(t)})}n.setAttribute(t,"url("+r.url+"#"+d+")")}},attr:function(t,n){var r,i,s=this.element,o,u=this,a;if(typeof t==="string"&&n!==e){r=t;t={};t[r]=n}if(typeof t==="string"){u=(this[t+"Getter"]||this._defaultGetter).call(this,t,s)}else{for(r in t){i=t[r];a=false;if(this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(r)){if(!o){this.symbolAttr(t);o=true}a=true}if(this.rotation&&(r==="x"||r==="y")){this.doTransform=true}if(!a){(this[r+"Setter"]||this._defaultSetter).call(this,i,r,s)}if(this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(r)){this.updateShadows(r,i)}}if(this.doTransform){this.updateTransform();this.doTransform=false}}return u},updateShadows:function(e,t){var n=this.shadows,r=n.length;while(r--){n[r].setAttribute(e,e==="height"?u(t-(n[r].cutHeight||0),0):e==="d"?this.d:t)}},addClass:function(e){var t=this.element,n=Ot(t,"class")||"";if(n.indexOf(e)===-1){Ot(t,"class",n+" "+e)}return this},symbolAttr:function(e){var t=this;tn(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(n){t[n]=_t(e[n],t[n])});t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":J)},crisp:function(e){var t=this,n,r={},o,u=e.strokeWidth||t.strokeWidth||0;o=i(u)%2/2;e.x=s(e.x||t.x||0)+o;e.y=s(e.y||t.y||0)+o;e.width=s((e.width||t.width||0)-2*o);e.height=s((e.height||t.height||0)-2*o);e.strokeWidth=u;for(n in e){if(t[n]!==e[n]){t[n]=r[n]=e[n]}}return r},css:function(e){var t=this,n=t.styles,r={},i=t.element,s,o,u="",a,f=!n;if(e&&e.color){e.fill=e.color}if(n){for(o in e){if(e[o]!==n[o]){r[o]=e[o];f=true}}}if(f){s=t.textWidth=e&&e.width&&i.nodeName.toLowerCase()==="text"&&Et(e.width);if(n){e=bt(n,r)}t.styles=e;if(s&&(T||!S&&t.renderer.forExport)){delete e.width}if(m&&!S){Dt(t.element,e)}else{a=function(e,t){return"-"+t.toLowerCase()};for(o in e){u+=o.replace(/([A-Z])/g,a)+":"+e[o]+";"}Ot(i,"style",u)}if(s&&t.added){t.renderer.buildText(t)}}return t},on:function(e,t){var n=this,r=n.element;if(C&&e==="click"){r.ontouchstart=function(e){n.touchEventFired=rt.now();e.preventDefault();t.call(r,e)};r.onclick=function(e){if(d.indexOf("Android")===-1||rt.now()-(n.touchEventFired||0)>1100){t.call(r,e)}}}else{r["on"+e]=t}return this},setRadialReference:function(e){this.element.radialReference=e;return this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){var e=this;e.inverted=true;e.updateTransform();return e},updateTransform:function(){var e=this,t=e.translateX||0,n=e.translateY||0,r=e.scaleX,i=e.scaleY,s=e.inverted,o=e.rotation,u=e.element,a;if(s){t+=e.attr("width");n+=e.attr("height")}a=["translate("+t+","+n+")"];if(s){a.push("rotate(90) scale(-1,1)")}else if(o){a.push("rotate("+o+" "+(u.getAttribute("x")||0)+" "+(u.getAttribute("y")||0)+")")}if(At(r)||At(i)){a.push("scale("+_t(r,1)+" "+_t(i,1)+")")}if(a.length){u.setAttribute("transform",a.join(" "))}},toFront:function(){var e=this.element;e.parentNode.appendChild(e);return this},align:function(e,t,n){var r,s,o,u,a={},f,l=this.renderer,c=l.alignedObjects;if(e){this.alignOptions=e;this.alignByTranslate=t;if(!n||St(n)){this.alignTo=f=n||"renderer";Lt(c,this);c.push(this);n=null}}else{e=this.alignOptions;t=this.alignByTranslate;f=this.alignTo}n=_t(n,l[f],l);r=e.align;s=e.verticalAlign;o=(n.x||0)+(e.x||0);u=(n.y||0)+(e.y||0);if(r==="right"||r==="center"){o+=(n.width-(e.width||0))/{right:1,center:2}[r]}a[t?"translateX":"x"]=i(o);if(s==="bottom"||s==="middle"){u+=(n.height-(e.height||0))/({bottom:1,middle:2}[s]||1)}a[t?"translateY":"y"]=i(u);this[this.placed?"animate":"attr"](a);this.placed=true;this.alignAttr=a;return this},getBBox:function(){var e=this,t=e.bBox,n=e.renderer,r,i,s=e.rotation,o=e.element,u=e.styles,a=s*p,h=e.textStr,d;if(h===""||G.test(h)){d="num."+h.toString().length+(u?"|"+u.fontSize+"|"+u.fontFamily:"")}if(d){t=n.cache[d]}if(!t){if(o.namespaceURI===E||n.forExport){try{t=o.getBBox?bt({},o.getBBox()):{width:o.offsetWidth,height:o.offsetHeight}}catch(v){}if(!t||t.width<0){t={width:0,height:0}}}else{t=e.htmlGetBBox()}if(n.isSVG){r=t.width;i=t.height;if(m&&u&&u.fontSize==="11px"&&i.toPrecision(3)==="16.9"){t.height=i=14}if(s){t.width=f(i*c(a))+f(r*l(a));t.height=f(i*l(a))+f(r*c(a))}}e.bBox=t;if(d){n.cache[d]=t}}return t},show:function(e){if(e&&this.element.namespaceURI===E){this.element.removeAttribute("visibility")}else{this.attr({visibility:e?"inherit":V})}return this},hide:function(){return this.attr({visibility:W})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t=this.renderer,n=e||t,r=n.element||t.box,i,s=this.element,o=this.zIndex,u,a,f,l;if(e){this.parentGroup=e}this.parentInverted=e&&e.inverted;if(this.textStr!==undefined){t.buildText(this)}if(o){n.handleZ=true;o=Et(o)}if(n.handleZ){i=r.childNodes;for(f=0;f<i.length;f++){u=i[f];a=Ot(u,"zIndex");if(u!==s&&(Et(a)>o||!At(o)&&At(a))){r.insertBefore(s,u);l=true;break}}}if(!l){r.appendChild(s)}this.added=true;if(this.onAdd){this.onAdd()}return this},safeRemoveChild:function(e){var t=e.parentNode;if(t){t.removeChild(e)}},destroy:function(){var e=this,t=e.element||{},n=e.shadows,r=e.renderer.isSVG&&t.nodeName==="SPAN"&&e.parentGroup,i,s,o;t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null;cn(e);if(e.clipPath){e.clipPath=e.clipPath.destroy()}if(e.stops){for(o=0;o<e.stops.length;o++){e.stops[o]=e.stops[o].destroy()}e.stops=null}e.safeRemoveChild(t);if(n){tn(n,function(t){e.safeRemoveChild(t)})}while(r&&r.div&&r.div.childNodes.length===0){i=r.parentGroup;e.safeRemoveChild(r.div);delete r.div;r=i}if(e.alignTo){Lt(e.renderer.alignedObjects,e)}for(s in e){delete e[s]}return null},shadow:function(e,t,n){var r=[],i,s,o=this.element,a,f,l,c;if(e){f=_t(e.width,3);l=(e.opacity||.15)/f;c=this.parentInverted?"(-1,-1)":"("+_t(e.offsetX,1)+", "+_t(e.offsetY,1)+")";for(i=1;i<=f;i++){s=o.cloneNode(0);a=f*2+1-2*i;Ot(s,{isShadow:"true",stroke:e.color||"black","stroke-opacity":l*i,"stroke-width":a,transform:"translate"+c,fill:J});if(n){Ot(s,"height",u(Ot(s,"height")-a,0));s.cutHeight=a}if(t){t.element.appendChild(s)}else{o.parentNode.insertBefore(s,o)}r.push(s)}this.shadows=r}return this},xGetter:function(e){if(this.element.nodeName==="circle"){e={x:"cx",y:"cy"}[e]||e}return this._defaultGetter(e)},_defaultGetter:function(e){var t=_t(this[e],this.element?this.element.getAttribute(e):null,0);if(/^[\-0-9\.]+$/.test(t)){t=parseFloat(t)}return t},dSetter:function(e,t,n){if(e&&e.join){e=e.join(" ")}if(/(NaN| {2}|^$)/.test(e)){e="M 0 0"}n.setAttribute(t,e);this[t]=e},dashstyleSetter:function(e){var t;e=e&&e.toLowerCase();if(e){e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");t=e.length;while(t--){e[t]=Et(e[t])*this["stroke-width"]}e=e.join(",").replace("NaN","none");this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,n){this[t]=e;n.setAttribute(t,e)},titleSetter:function(e){var n=this.element.getElementsByTagName("title")[0];if(!n){n=t.createElementNS(E,"title");this.element.appendChild(n)}n.textContent=e.replace(/<[^>]*>/g,"")},textSetter:function(e){if(e!==this.textStr){delete this.bBox;this.textStr=e;if(this.added){this.renderer.buildText(this)}}},fillSetter:function(e,t,n){if(typeof e==="string"){n.setAttribute(t,e)}else if(e){this.colorGradient(e,t,n)}},zIndexSetter:function(e,t,n){n.setAttribute(t,e);this[t]=e},_defaultSetter:function(e,t,n){n.setAttribute(t,e)}};Sn.prototype.yGetter=Sn.prototype.xGetter;Sn.prototype.translateXSetter=Sn.prototype.translateYSetter=Sn.prototype.rotationSetter=Sn.prototype.verticalAlignSetter=Sn.prototype.scaleXSetter=Sn.prototype.scaleYSetter=function(e,t){this[t]=e;this.doTransform=true};Sn.prototype["stroke-widthSetter"]=Sn.prototype.strokeSetter=function(e,t,n){this[t]=e;if(this.stroke&&this["stroke-width"]){this.strokeWidth=this["stroke-width"];Sn.prototype.fillSetter.call(this,this.stroke,"stroke",n);n.setAttribute("stroke-width",this["stroke-width"]);this.hasStroke=true}else if(t==="stroke-width"&&e===0&&this.hasStroke){n.removeAttribute("stroke");this.hasStroke=false}};var xn=function(){this.init.apply(this,arguments)};xn.prototype={Element:Sn,init:function(e,r,i,s,u){var a=this,f=location,l,c,h;l=a.createElement("svg").attr({version:"1.1"}).css(this.getStyle(s));c=l.element;e.appendChild(c);if(e.innerHTML.indexOf("xmlns")===-1){Ot(c,"xmlns",E)}a.isSVG=true;a.box=c;a.boxWrapper=l;a.alignedObjects=[];a.url=(b||y)&&t.getElementsByTagName("base").length?f.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";h=this.createElement("desc").add();h.element.appendChild(t.createTextNode("Created with "+I+" "+q));a.defs=this.createElement("defs").add();a.forExport=u;a.gradients={};a.cache={};a.setSize(r,i,false);var p,d;if(b&&e.getBoundingClientRect){a.subPixelFix=p=function(){Dt(e,{left:0,top:0});d=e.getBoundingClientRect();Dt(e,{left:o(d.left)-d.left+$,top:o(d.top)-d.top+$})};p();on(n,"resize",p)}},getStyle:function(e){return this.style=bt({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this,t=e.defs;e.box=null;e.boxWrapper=e.boxWrapper.destroy();Vt(e.gradients||{});e.gradients=null;if(t){e.defs=t.destroy()}if(e.subPixelFix){un(n,"resize",e.subPixelFix)}e.alignedObjects=null;return null},createElement:function(e){var t=new this.Element;t.init(this,e);return t},draw:function(){},buildText:function(e){var n=e.element,r=this,i=r.forExport,s=_t(e.textStr,"").toString(),o=s.indexOf("<")!==-1,u,a=n.childNodes,f,l,c=Ot(n,"x"),h=e.styles,p=e.textWidth,d=h&&h.lineHeight,v=h&&h.HcTextStroke,m=a.length,g=function(e){return d?Et(d):r.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:h&&h.fontSize||r.style.fontSize||12,e).h};while(m--){n.removeChild(a[m])}if(!o&&!v&&s.indexOf(" ")===-1){n.appendChild(t.createTextNode(s));return}else{f=/<.*style="([^"]+)".*>/;l=/<.*href="(http[^"]+)".*>/;if(p&&!e.added){this.box.appendChild(n)}if(o){u=s.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g)}else{u=[s]}if(u[u.length-1]===""){u.pop()}tn(u,function(s,o){var u,a=0;s=s.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");u=s.split("|||");tn(u,function(s){if(s!==""||u.length===1){var d={},v=t.createElementNS(E,"tspan"),m;if(f.test(s)){m=s.match(f)[1].replace(/(;| |^)color([ :])/,"$1fill$2");Ot(v,"style",m)}if(l.test(s)&&!i){Ot(v,"onclick",'location.href="'+s.match(l)[1]+'"');Dt(v,{cursor:"pointer"})}s=(s.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");if(s!==" "){v.appendChild(t.createTextNode(s));if(!a){if(o&&c!==null){d.x=c}}else{d.dx=0}Ot(v,d);n.appendChild(v);if(!a&&o){if(!S&&i){Dt(v,{display:"block"})}Ot(v,"dy",g(v))}if(p){var y=s.replace(/([^\^])-/g,"$1- ").split(" "),b=u.length>1||y.length>1&&h.whiteSpace!=="nowrap",w,x,T=h.HcHeight,N=[],C=g(v),k=1,L;while(b&&(y.length||N.length)){delete e.bBox;L=e.getBBox();x=L.width;if(!S&&r.forExport){x=r.measureSpanWidth(v.firstChild.data,e.styles)}w=x>p;if(!w||y.length===1){y=N;N=[];if(y.length){k++;if(T&&k*C>T){y=["..."];e.attr("title",e.textStr)}else{v=t.createElementNS(E,"tspan");Ot(v,{dy:C,x:c});if(m){Ot(v,"style",m)}n.appendChild(v)}}if(x>p){p=x}}else{v.removeChild(v.firstChild);N.unshift(y.pop())}if(y.length){v.appendChild(t.createTextNode(y.join(" ").replace(/- /g,"-")))}}}a++}}})})}},button:function(e,t,n,r,i,s,o,u,a){var f=this.label(e,t,n,a,null,null,null,null,"button"),l=0,c,h,p,d,v,g,y={x1:0,y1:0,x2:0,y2:1};i=wt({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:y,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},i);p=i.style;delete i.style;s=wt(i,{stroke:"#68A",fill:{linearGradient:y,stops:[[0,"#FFF"],[1,"#ACF"]]}},s);d=s.style;delete s.style;o=wt(i,{stroke:"#68A",fill:{linearGradient:y,stops:[[0,"#9BD"],[1,"#CDF"]]}},o);v=o.style;delete o.style;u=wt(i,{style:{color:"#CCC"}},u);g=u.style;delete u.style;on(f.element,m?"mouseover":"mouseenter",function(){if(l!==3){f.attr(s).css(d)}});on(f.element,m?"mouseout":"mouseleave",function(){if(l!==3){c=[i,s,o][l];h=[p,d,v][l];f.attr(c).css(h)}});f.setState=function(e){f.state=l=e;if(!e){f.attr(i).css(p)}else if(e===2){f.attr(o).css(v)}else if(e===3){f.attr(u).css(g)}};return f.on("click",function(){if(l!==3){r.call(f)}}).attr(i).css(bt({cursor:"default"},p))},crispLine:function(e,t){if(e[1]===e[4]){e[1]=e[4]=i(e[1])-t%2/2}if(e[2]===e[5]){e[2]=e[5]=i(e[2])+t%2/2}return e},path:function(e){var t={fill:J};if(Tt(e)){t.d=e}else if(xt(e)){bt(t,e)}return this.createElement("path").attr(t)},circle:function(e,t,n){var r=xt(e)?e:{x:e,y:t,r:n},i=this.createElement("circle");i.xSetter=function(e){this.element.setAttribute("cx",e)};i.ySetter=function(e){this.element.setAttribute("cy",e)};return i.attr(r)},arc:function(e,t,n,r,i,s){var o;if(xt(e)){t=e.y;n=e.r;r=e.innerR;i=e.start;s=e.end;e=e.x}o=this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:r||0,start:i||0,end:s||0});o.r=n;return o},rect:function(t,n,r,i,s,o){s=xt(t)?t.r:s;var a=this.createElement("rect"),f=xt(t)?t:t===e?{}:{x:t,y:n,width:u(r,0),height:u(i,0)};if(o!==e){f.strokeWidth=o;f=a.crisp(f)}if(s){f.r=s}a.rSetter=function(e){Ot(this.element,{rx:e,ry:e})};return a.attr(f)},setSize:function(e,t,n){var r=this,i=r.alignedObjects,s=i.length;r.width=e;r.height=t;r.boxWrapper[_t(n,true)?"animate":"attr"]({width:e,height:t});while(s--){i[s].align()}},g:function(e){var t=this.createElement("g");return At(e)?t.attr({"class":X+e}):t},image:function(e,t,n,r,i){var s={preserveAspectRatio:J},o;if(arguments.length>1){bt(s,{x:t,y:n,width:r,height:i})}o=this.createElement("image").attr(s);if(o.element.setAttributeNS){o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e)}else{o.element.setAttribute("hc-svg-href",e)}return o},symbol:function(e,t,n,r,s,o){var u,a=this.symbols[e],f=a&&a(i(t),i(n),r,s,o),l,c=/^url\((.*?)\)$/,h,p,d;if(f){u=this.path(f);bt(u,{symbolName:e,x:t,y:n,width:r,height:s});if(o){bt(u,o)}}else if(c.test(e)){d=function(e,t){if(e.element){e.attr({width:t[0],height:t[1]});if(!e.alignByTranslate){e.translate(i((r-t[0])/2),i((s-t[1])/2))}}};h=e.match(c)[1];p=k[h];u=this.image(h).attr({x:t,y:n});u.isImg=true;if(p){d(u,p)}else{u.attr({width:0,height:0});l=Pt("img",{onload:function(){d(u,k[h]=[this.width,this.height])},src:h})}}return u},symbols:{circle:function(e,t,n,r){var i=.166*n;return[K,e+n/2,t,"C",e+n+i,t,e+n+i,t+r,e+n/2,t+r,"C",e-i,t+r,e-i,t,e+n/2,t,"Z"]},square:function(e,t,n,r){return[K,e,t,Q,e+n,t,e+n,t+r,e,t+r,"Z"]},triangle:function(e,t,n,r){return[K,e+n/2,t,Q,e+n,t+r,e,t+r,"Z"]},"triangle-down":function(e,t,n,r){return[K,e,t,Q,e+n,t,e+n/2,t+r,"Z"]},diamond:function(e,t,n,r){return[K,e+n/2,t,Q,e+n,t+r/2,e+n/2,t+r,e,t+r/2,"Z"]},arc:function(e,t,n,r,i){var s=i.start,o=i.r||n||r,u=i.end-.001,a=i.innerR,f=i.open,p=l(s),d=c(s),v=l(u),m=c(u),g=i.end-s<h?0:1;return[K,e+o*p,t+o*d,"A",o,o,0,g,1,e+o*v,t+o*m,f?K:Q,e+a*v,t+a*m,"A",a,a,0,g,0,e+a*p,t+a*d,f?"":"Z"]},callout:function(e,t,n,r,s){var o=6,u=6,f=a(s&&s.r||0,n,r),l=f+u,c=s&&s.anchorX,h=s&&s.anchorY,p,d=i(s.strokeWidth||0)%2/2;e+=d;t+=d;p=["M",e+f,t,"L",e+n-f,t,"C",e+n,t,e+n,t,e+n,t+f,"L",e+n,t+r-f,"C",e+n,t+r,e+n,t+r,e+n-f,t+r,"L",e+f,t+r,"C",e,t+r,e,t+r,e,t+r-f,"L",e,t+f,"C",e,t,e,t,e+f,t];if(c&&c>n&&h>t+l&&h<t+r-l){p.splice(13,3,"L",e+n,h-u,e+n+o,h,e+n,h+u,e+n,t+r-f)}else if(c&&c<0&&h>t+l&&h<t+r-l){p.splice(33,3,"L",e,h+u,e-o,h,e,h-u,e,t+f)}else if(h&&h>r&&c>e+l&&c<e+n-l){p.splice(23,3,"L",c+u,t+r,c,t+r+o,c-u,t+r,e+f,t+r)}else if(h&&h<0&&c>e+l&&c<e+n-l){p.splice(3,3,"L",c-u,t,c,t-o,c+u,t,n-f,t)}return p}},clipRect:function(e,t,n,r){var i,s=X+L++,o=this.createElement("clipPath").attr({id:s}).add(this.defs);i=this.rect(e,t,n,r,0).add(o);i.id=s;i.clipPath=o;return i},text:function(e,t,n,r){var i=this,s=T||!S&&i.forExport,o,u={};if(r&&!i.forExport){return i.html(e,t,n)}u.x=Math.round(t||0);if(n){u.y=Math.round(n)}if(e||e===0){u.text=e}o=i.createElement("text").attr(u);if(s){o.css({position:U})}if(!r){o.xSetter=function(e,t,n){var r=n.getElementsByTagName("tspan"),i,s=n.getAttribute(t),o;for(o=0;o<r.length;o++){i=r[o];if(i.getAttribute(t)===s){i.setAttribute(t,e)}}n.setAttribute(t,e)}}return o},fontMetrics:function(e,t){e=e||this.style.fontSize;if(t&&n.getComputedStyle){t=t.element||t;e=n.getComputedStyle(t,"").fontSize}e=/px/.test(e)?Et(e):/em/.test(e)?parseFloat(e)*12:12;var r=e<24?e+4:i(e*1.2),s=i(r*.8);return{h:r,b:s,f:e}},label:function(t,n,r,s,o,u,a,f,l){function k(){var e,t,n=p.element.style;v=(b===undefined||w===undefined||h.styles.textAlign)&&p.textStr&&p.getBBox();h.width=(b||v.width||0)+2*g+y;h.height=(w||v.height||0)+2*g;N=g+c.fontMetrics(n&&n.fontSize,p).b;if(C){if(!d){e=i(-m*g);t=f?-N:0;h.box=d=s?c.symbol(s,e,t,h.width,h.height,T):c.rect(e,t,h.width,h.height,0,T[nt]);d.attr("fill",J).add(h)}if(!d.isImg){d.attr(bt({width:i(h.width),height:i(h.height)},T))}T=null}}function L(){var t=h.styles,n=t&&t.textAlign,r=y+g*(1-m),i;i=f?0:N;if(At(b)&&v&&(n==="center"||n==="right")){r+={center:.5,right:1}[n]*(b-v.width)}if(r!==p.x||i!==p.y){p.attr("x",r);if(i!==e){p.attr("y",i)}}p.x=r;p.y=i}function A(e,t){if(d){d.attr(e,t)}else{T[e]=t}}var c=this,h=c.g(l),p=c.text("",0,0,a).attr({zIndex:1}),d,v,m=0,g=3,y=0,b,w,E,S,x=0,T={},N,C;h.onAdd=function(){p.add(h);h.attr({text:t||t===0?t:"",x:n,y:r});if(d&&At(o)){h.attr({anchorX:o,anchorY:u})}};h.widthSetter=function(e){b=e};h.heightSetter=function(e){w=e};h.paddingSetter=function(e){if(At(e)&&e!==g){g=e;L()}};h.paddingLeftSetter=function(e){if(At(e)&&e!==y){y=e;L()}};h.alignSetter=function(e){m={left:0,center:.5,right:1}[e]};h.textSetter=function(t){if(t!==e){p.textSetter(t)}k();L()};h["stroke-widthSetter"]=function(e,t){if(e){C=true}x=e%2/2;A(t,e)};h.strokeSetter=h.fillSetter=h.rSetter=function(e,t){if(t==="fill"&&e){C=true}A(t,e)};h.anchorXSetter=function(e,t){o=e;A(t,e+x-E)};h.anchorYSetter=function(e,t){u=e;A(t,e-S)};h.xSetter=function(e){h.x=e;if(m){e-=m*((b||v.width)+g)}E=i(e);h.attr("translateX",E)};h.ySetter=function(e){S=h.y=i(e);h.attr("translateY",S)};var O=h.css;return bt(h,{css:function(t){if(t){var n={};t=wt(t);tn(h.textProps,function(r){if(t[r]!==e){n[r]=t[r];delete t[r]}});p.css(n)}return O.call(h,t)},getBBox:function(){return{width:v.width+2*g,height:v.height+2*g,x:v.x-g,y:v.y-g}},shadow:function(e){if(d){d.shadow(e)}return h},destroy:function(){un(h.element,"mouseenter");un(h.element,"mouseleave");if(p){p=p.destroy()}if(d){d=d.destroy()}Sn.prototype.destroy.call(h);h=c=k=L=A=null}})}};N=xn;bt(Sn.prototype,{htmlCss:function(e){var t=this,n=t.element,r=e&&n.tagName==="SPAN"&&e.width;if(r){delete e.width;t.textWidth=r;t.updateTransform()}t.styles=bt(t.styles,e);Dt(t.element,e);return t},htmlGetBBox:function(){var e=this,t=e.element,n=e.bBox;if(!n){if(t.nodeName==="text"){t.style.position=U}n=e.bBox={x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}return n},htmlUpdateTransform:function(){if(!this.added){this.alignOnAdd=true;return}var e=this,t=e.renderer,n=e.element,r=e.translateX||0,i=e.translateY||0,s=e.x||0,o=e.y||0,u=e.textAlign||"left",a={left:0,center:.5,right:1}[u],f=e.shadows;Dt(n,{marginLeft:r,marginTop:i});if(f){tn(f,function(e){Dt(e,{marginLeft:r+1,marginTop:i+1})})}if(e.inverted){tn(n.childNodes,function(e){t.invertChild(e,n)})}if(n.tagName==="SPAN"){var l,c=e.rotation,h,p=Et(e.textWidth),d=[c,u,n.innerHTML,e.textWidth].join(",");if(d!==e.cTT){h=t.fontMetrics(n.style.fontSize).b;if(At(c)){e.setSpanRotation(c,a,h)}l=_t(e.elemWidth,n.offsetWidth);if(l>p&&/[ \-]/.test(n.textContent||n.innerText)){Dt(n,{width:p+$,display:"block",whiteSpace:"normal"});l=p}e.getSpanCorrection(l,h,a,c,u)}Dt(n,{left:s+(e.xCorr||0)+$,top:o+(e.yCorr||0)+$});if(y){h=n.offsetHeight}e.cTT=d}},setSpanRotation:function(e,t,n){var r={},i=m?"-ms-transform":y?"-webkit-transform":b?"MozTransform":v?"-o-transform":"";r[i]=r.transform="rotate("+e+"deg)";r[i+(b?"Origin":"-origin")]=r.transformOrigin=t*100+"% "+n+"px";Dt(this.element,r)},getSpanCorrection:function(e,t,n){this.xCorr=-e*n;this.yCorr=-t}});bt(xn.prototype,{html:function(e,t,n){var r=this.createElement("span"),s=r.element,o=r.renderer;r.textSetter=function(e){if(e!==s.innerHTML){delete this.bBox}s.innerHTML=this.textStr=e};r.xSetter=r.ySetter=r.alignSetter=r.rotationSetter=function(e,t){if(t==="align"){t="textAlign"}r[t]=e;r.htmlUpdateTransform()};r.attr({text:e,x:i(t),y:i(n)}).css({position:U,whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize});r.css=r.htmlCss;if(o.isSVG){r.add=function(e){var t,n=o.box.parentNode,i,u=[];this.parentGroup=e;if(e){t=e.div;if(!t){i=e;while(i){u.push(i);i=i.parentGroup}tn(u.reverse(),function(e){var r;t=e.div=e.div||Pt(R,{className:Ot(e.element,"class")},{position:U,left:(e.translateX||0)+$,top:(e.translateY||0)+$},t||n);r=t.style;bt(e,{translateXSetter:function(t,n){r.left=t+$;e[n]=t;e.doTransform=true},translateYSetter:function(t,n){r.top=t+$;e[n]=t;e.doTransform=true},visibilitySetter:function(e,t){r[t]=e}})})}}else{t=n}t.appendChild(s);r.added=true;if(r.alignOnAdd){r.htmlUpdateTransform()}return r}}return r}});var Tn,Nn;if(!S&&!T){Nn={init:function(e,t){var n=this,r=["<",t,' filled="f" stroked="f"'],i=["position: ",U,";"],s=t===R;if(t==="shape"||s){i.push("left:0;top:0;width:1px;height:1px;")}i.push("visibility: ",s?W:V);r.push(' style="',i.join(""),'"/>');if(t){r=s||t==="span"||t==="img"?r.join(""):e.prepVML(r);n.element=Pt(r)}n.renderer=e},add:function(e){var t=this,n=t.renderer,r=t.element,i=n.box,s=e&&e.inverted,o=e?e.element||e:i;if(s){n.invertChild(r,o)}o.appendChild(r);t.added=true;if(t.alignOnAdd&&!t.deferUpdateTransform){t.updateTransform()}if(t.onAdd){t.onAdd()}return t},updateTransform:Sn.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=l(e*p),n=c(e*p);Dt(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-n,", M21=",n,", M22=",t,", sizingMethod='auto expand')"].join(""):J})},getSpanCorrection:function(e,t,n,r,i){var s=r?l(r*p):1,o=r?c(r*p):0,u=_t(this.elemHeight,this.element.offsetHeight),a,f=i&&i!=="left";this.xCorr=s<0&&-e;this.yCorr=o<0&&-u;a=s*o<0;this.xCorr+=o*t*(a?1-n:n);this.yCorr-=s*t*(r?a?n:1-n:1);if(f){this.xCorr-=e*n*(s<0?-1:1);if(r){this.yCorr-=u*n*(o<0?-1:1)}Dt(this.element,{textAlign:i})}},pathToVML:function(e){var t=e.length,n=[];while(t--){if(Nt(e[t])){n[t]=i(e[t]*10)-5}else if(e[t]==="Z"){n[t]="x"}else{n[t]=e[t];if(e.isArc&&(e[t]==="wa"||e[t]==="at")){if(n[t+5]===n[t+7]){n[t+7]+=e[t+7]>e[t+5]?1:-1}if(n[t+6]===n[t+8]){n[t+8]+=e[t+8]>e[t+6]?1:-1}}}}return n.join(" ")||"x"},clip:function(e){var t=this,n,r;if(e){n=e.members;Lt(n,t);n.push(t);t.destroyClip=function(){Lt(n,t)};r=e.getCSS(t)}else{if(t.destroyClip){t.destroyClip()}r={clip:g?"inherit":"rect(auto)"}}return t.css(r)},css:Sn.prototype.htmlCss,safeRemoveChild:function(e){if(e.parentNode){$t(e)}},destroy:function(){if(this.destroyClip){this.destroyClip()}return Sn.prototype.destroy.apply(this)},on:function(e,t){this.element["on"+e]=function(){var e=n.event;e.target=e.srcElement;t(e)};return this},cutOffPath:function(e,t){var n;e=e.split(/[ ,]/);n=e.length;if(n===9||n===11){e[n-4]=e[n-2]=Et(e[n-2])-10*t}return e.join(" ")},shadow:function(e,t,n){var r=[],i,s=this.element,o=this.renderer,u,a=s.style,f,l=s.path,c,h,p,d;if(l&&typeof l.value!=="string"){l="x"}h=l;if(e){p=_t(e.width,3);d=(e.opacity||.15)/p;for(i=1;i<=3;i++){c=p*2+1-2*i;if(n){h=this.cutOffPath(l.value,c+.5)}f=['<shape isShadow="true" strokeweight="',c,'" filled="false" path="',h,'" coordsize="10 10" style="',s.style.cssText,'" />'];u=Pt(o.prepVML(f),null,{left:Et(a.left)+_t(e.offsetX,1),top:Et(a.top)+_t(e.offsetY,1)});if(n){u.cutOff=c+1}f=['<stroke color="',e.color||"black",'" opacity="',d*i,'"/>'];Pt(o.prepVML(f),null,null,u);if(t){t.element.appendChild(u)}else{s.parentNode.insertBefore(u,s)}r.push(u)}this.shadows=r}return this},updateShadows:B,setAttr:function(e,t){if(g){this.element[e]=t}else{this.element.setAttribute(e,t)}},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,n){var r=n.getElementsByTagName("stroke")[0]||Pt(this.renderer.prepVML(["<stroke/>"]),null,null,n);r[t]=e||"solid";this[t]=e},dSetter:function(e,t,n){var r,i=this.shadows;e=e||[];this.d=e.join&&e.join(" ");n.path=e=this.pathToVML(e);if(i){r=i.length;while(r--){i[r].path=i[r].cutOff?this.cutOffPath(e,i[r].cutOff):e}}this.setAttr(t,e)},fillSetter:function(e,t,n){var r=n.nodeName;if(r==="SPAN"){n.style.color=e}else if(r!=="IMG"){n.filled=e!==J;this.setAttr("fillcolor",this.renderer.color(e,n,t,this))}},opacitySetter:B,rotationSetter:function(e,t,n){var r=n.style;this[t]=r[t]=e;r.left=-i(c(e*p)+1)+$;r.top=i(l(e*p))+$},strokeSetter:function(e,t,n){this.setAttr("strokecolor",this.renderer.color(e,n,t))},"stroke-widthSetter":function(e,t,n){n.stroked=!!e;this[t]=e;if(Nt(e)){e+=$}this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(e,t,n){if(e==="inherit"){e=V}if(this.shadows){tn(this.shadows,function(n){n.style[t]=e})}if(n.nodeName==="DIV"){e=e===W?"-999em":0;if(!g){n.style[t]=e?V:W}t="top"}n.style[t]=e},xSetter:function(e,t,n){this[t]=e;if(t==="x"){t="left"}else if(t==="y"){t="top"}if(this.updateClipping){this[t]=e;this.updateClipping()}else{n.style[t]=e}},zIndexSetter:function(e,t,n){n.style[t]=e}};yt.VMLElement=Nn=Ht(Sn,Nn);Nn.prototype.ySetter=Nn.prototype.widthSetter=Nn.prototype.heightSetter=Nn.prototype.xSetter;var Cn={Element:Nn,isIE8:d.indexOf("MSIE 8.0")>-1,init:function(e,n,r,i){var s=this,o,u,a;s.alignedObjects=[];o=s.createElement(R).css(bt(this.getStyle(i),{position:z}));u=o.element;e.appendChild(o.element);s.isVML=true;s.box=u;s.boxWrapper=o;s.cache={};s.setSize(n,r,false);if(!t.namespaces.hcv){t.namespaces.add("hcv","urn:schemas-microsoft-com:vml");a="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke"+"{ behavior:url(#default#VML); display: inline-block; } ";try{t.createStyleSheet().cssText=a}catch(f){t.styleSheets[0].cssText+=a}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,n,r){var s=this.createElement(),o=xt(e);return bt(s,{members:[],left:(o?e.x:e)+1,top:(o?e.y:t)+1,width:(o?e.width:n)-1,height:(o?e.height:r)-1,getCSS:function(e){var t=e.element,n=t.nodeName,r=n==="shape",s=e.inverted,o=this,u=o.top-(r?t.offsetTop:0),a=o.left,f=a+o.width,l=u+o.height,c={clip:"rect("+i(s?a:u)+"px,"+i(s?l:f)+"px,"+i(s?f:l)+"px,"+i(s?u:a)+"px)"};if(!s&&g&&n==="DIV"){bt(c,{width:f+$,height:l+$})}return c},updateClipping:function(){tn(s.members,function(e){if(e.element){e.css(s.getCSS(e))}})}})},color:function(e,t,n,i){var s=this,o,u=/^rgba/,a,f,l=J;if(e&&e.linearGradient){f="gradient"}else if(e&&e.radialGradient){f="pattern"}if(f){var c,p,d=e.linearGradient||e.radialGradient,v,m,g,y,b,w,E,S,x="",T=e.stops,N,C,k=[],L=function(){a=['<fill colors="'+k.join(",")+'" opacity="',w,'" o:opacity2="',b,'" type="',f,'" ',x,'focus="100%" method="any" />'];Pt(s.prepVML(a),null,null,t)};N=T[0];C=T[T.length-1];if(N[0]>0){T.unshift([0,N[1]])}if(C[0]<1){T.push([1,C[1]])}tn(T,function(e,t){if(u.test(e[1])){o=En(e[1]);c=o.get("rgb");p=o.get("a")}else{c=e[1];p=1}k.push(e[0]*100+"% "+c);if(!t){b=p;S=c}else{w=p;E=c}});if(n==="fill"){if(f==="gradient"){v=d.x1||d[0]||0;m=d.y1||d[1]||0;g=d.x2||d[2]||0;y=d.y2||d[3]||0;x='angle="'+(90-r.atan((y-m)/(g-v))*180/h)+'"';L()}else{var A=d.r,M=A*2,_=A*2,D=d.cx,P=d.cy,H=t.radialReference,B,j=function(){if(H){B=i.getBBox();D+=(H[0]-B.x)/B.width-.5;P+=(H[1]-B.y)/B.height-.5;M*=H[2]/B.width;_*=H[2]/B.height}x='src="'+O.global.VMLRadialGradientURL+'" '+'size="'+M+","+_+'" '+'origin="0.5,0.5" '+'position="'+D+","+P+'" '+'color2="'+S+'" ';L()};if(i.added){j()}else{i.onAdd=j}l=E}}else{l=c}}else if(u.test(e)&&t.tagName!=="IMG"){o=En(e);a=["<",n,' opacity="',o.get("a"),'"/>'];Pt(this.prepVML(a),null,null,t);l=o.get("rgb")}else{var F=t.getElementsByTagName(n);if(F.length){F[0].opacity=1;F[0].type="solid"}l=e}return l},prepVML:function(e){var t="display:inline-block;behavior:url(#default#VML);",n=this.isIE8;e=e.join("");if(n){e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />');if(e.indexOf('style="')===-1){e=e.replace("/>",' style="'+t+'" />')}else{e=e.replace('style="','style="'+t)}}else{e=e.replace("<","<hcv:")}return e},text:xn.prototype.html,path:function(e){var t={coordsize:"10 10"};if(Tt(e)){t.d=e}else if(xt(e)){bt(t,e)}return this.createElement("shape").attr(t)},circle:function(e,t,n){var r=this.symbol("circle");if(xt(e)){n=e.r;t=e.y;e=e.x}r.isCircle=true;r.r=n;return r.attr({x:e,y:t})},g:function(e){var t,n;if(e){n={className:X+e,"class":X+e}}t=this.createElement(R).attr(n);return t},image:function(e,t,n,r,i){var s=this.createElement("img").attr({src:e});if(arguments.length>1){s.attr({x:t,y:n,width:r,height:i})}return s},createElement:function(e){return e==="rect"?this.symbol(e):xn.prototype.createElement.call(this,e)},invertChild:function(e,t){var n=this,r=t.style,i=e.tagName==="IMG"&&e.style;Dt(e,{flip:"x",left:Et(r.width)-(i?Et(i.top):1),top:Et(r.height)-(i?Et(i.left):1),rotation:-90});tn(e.childNodes,function(t){n.invertChild(t,e)})},symbols:{arc:function(e,t,n,r,i){var s=i.start,o=i.end,u=i.r||n||r,a=i.innerR,f=l(s),h=c(s),p=l(o),d=c(o),v;if(o-s===0){return["x"]}v=["wa",e-u,t-u,e+u,t+u,e+u*f,t+u*h,e+u*p,t+u*d];if(i.open&&!a){v.push("e",K,e,t)}v.push("at",e-a,t-a,e+a,t+a,e+a*p,t+a*d,e+a*f,t+a*h,"x","e");v.isArc=true;return v},circle:function(e,t,n,r,i){if(i){n=r=2*i.r}if(i&&i.isCircle){e-=n/2;t-=r/2}return["wa",e,t,e+n,t+r,e+n,t+r/2,e+n,t+r/2,"e"]},rect:function(e,t,n,r,i){return xn.prototype.symbols[!At(i)||!i.r?"square":"callout"].call(0,e,t,n,r,i)}}};yt.VMLRenderer=Tn=function(){this.init.apply(this,arguments)};Tn.prototype=wt(xn.prototype,Cn);N=Tn}xn.prototype.measureSpanWidth=function(e,n){var r=t.createElement("span"),i,s=t.createTextNode(e);r.appendChild(s);Dt(r,n);this.box.appendChild(r);i=r.offsetWidth;$t(r);return i};var kn,Ln;if(T){yt.CanVGRenderer=kn=function(){E="http://www.w3.org/1999/xhtml"};kn.prototype.symbols={};Ln=function(){function t(){var t=e.length,n;for(n=0;n<t;n++){e[n]()}e=[]}var e=[];return{push:function(n,r){if(e.length===0){Zt(r,t)}e.push(n)}}}();N=kn}An.prototype={addLabel:function(){var e=this,t=e.axis,n=t.options,r=t.chart,s=t.horiz,o=t.categories,a=t.names,f=e.pos,c=n.labels,h=c.rotation,d,v=t.tickPositions,m=s&&o&&!c.step&&!c.staggerLines&&!c.rotation&&r.plotWidth/v.length||!s&&(r.margin[3]||r.chartWidth*.33),g=f===v[0],y=f===v[v.length-1],b,w,E=o?_t(o[f],a[f],f):f,S=e.label,x=v.info,T;if(t.isDatetimeAxis&&x){T=n.dateTimeLabelFormats[x.higherRanks[f]||x.unitName]}e.isFirst=g;e.isLast=y;d=t.labelFormatter.call({axis:t,chart:r,isFirst:g,isLast:y,dateTimeLabelFormat:T,value:t.isLog?Jt(kt(E)):E});b=m&&{width:u(1,i(m-2*(c.padding||10)))+$};b=bt(b,c.style);if(!At(S)){w={align:t.labelAlign};if(Nt(h)){w.rotation=h}if(m&&c.ellipsis){b.HcHeight=t.len/v.length}e.label=S=At(d)&&c.enabled?r.renderer.text(d,0,0,c.useHTML).attr(w).css(b).add(t.labelGroup):null;t.tickBaseline=r.renderer.fontMetrics(c.style.fontSize,S).b;if(h&&t.side===2){t.tickBaseline*=l(h*p)}}else if(S){S.attr({text:d}).css(b)}e.yOffset=S?_t(c.y,t.tickBaseline+(t.side===2?8:-(S.getBBox().height/2))):0},getLabelSize:function(){var e=this.label,t=this.axis;return e?e.getBBox()[t.horiz?"height":"width"]:0},getLabelSides:function(){var e=this.label.getBBox(),t=this.axis,n=t.horiz,r=t.options,i=r.labels,s=n?e.width:e.height,o=n?i.x-s*{left:0,center:.5,right:1}[t.labelAlign]:0,u=n?s+o:s;return[o,u]},handleOverflow:function(t,n){var r=true,i=this.axis,s=this.isFirst,o=this.isLast,u=i.horiz,a=u?n.x:n.y,f=i.reversed,l=i.tickPositions,c=this.getLabelSides(),h=c[0],p=c[1],d,v,m,g,y=this.label.line||0,b=i.labelEdge,w=i.justifyLabels&&(s||o),E;if(b[y]===e||a+h>b[y]){b[y]=a+p}else if(!w){r=false}if(w){E=i.justifyToPlot;d=E?i.pos:0;v=E?d+i.len:i.chart.chartWidth;do{t+=s?1:-1;m=i.ticks[l[t]]}while(l[t]&&(!m||!m.label||m.label.line!==y));g=m&&m.label.xy&&m.label.xy.x+m.getLabelSides()[s?0:1];if(s&&!f||o&&f){if(a+h<d){a=d-h;if(m&&a+p>g){r=false}}}else{if(a+p>v){a=v-p;if(m&&a+h<g){r=false}}}n.x=a}return r},getPosition:function(e,t,n,r){var i=this.axis,s=i.chart,o=r&&s.oldChartHeight||s.chartHeight;return{x:e?i.translate(t+n,null,null,r)+i.transB:i.left+i.offset+(i.opposite?(r&&s.oldChartWidth||s.chartWidth)-i.right-i.left:0),y:e?o-i.bottom+i.offset-(i.opposite?i.height:0):o-i.translate(t+n,null,null,r)-i.transB}},getLabelPosition:function(e,t,n,r,i,s,o,u){var a=this.axis,f=a.transA,l=a.reversed,c=a.staggerLines;e=e+i.x-(s&&r?s*f*(l?-1:1):0);t=t+this.yOffset-(s&&!r?s*f*(l?1:-1):0);if(c){n.line=o/(u||1)%c;t+=n.line*(a.labelOffset/c)}return{x:e,y:t}},getMarkPath:function(e,t,n,r,i,s){return s.crispLine([K,e,t,Q,e+(i?0:-n),t+(i?n:0)],r)},render:function(t,n,r){var i=this,s=i.axis,o=s.options,u=s.chart,a=u.renderer,f=s.horiz,l=i.type,c=i.label,h=i.pos,p=o.labels,d=i.gridLine,v=l?l+"Grid":"grid",m=l?l+"Tick":"tick",g=o[v+"LineWidth"],y=o[v+"LineColor"],b=o[v+"LineDashStyle"],w=o[m+"Length"],E=o[m+"Width"]||0,S=o[m+"Color"],x=o[m+"Position"],T,N=i.mark,C,k=p.step,L,A=true,O=s.tickmarkOffset,M=i.getPosition(f,h,O,n),_=M.x,D=M.y,P=f&&_===s.pos+s.len||!f&&D===s.pos?-1:1;r=_t(r,1);this.isActive=true;if(g){T=s.getPlotLinePath(h+O,g*P,n,true);if(d===e){L={stroke:y,"stroke-width":g};if(b){L.dashstyle=b}if(!l){L.zIndex=1}if(n){L.opacity=0}i.gridLine=d=g?a.path(T).attr(L).add(s.gridGroup):null}if(!n&&d&&T){d[i.isNew?"attr":"animate"]({d:T,opacity:r})}}if(E&&w){if(x==="inside"){w=-w}if(s.opposite){w=-w}C=i.getMarkPath(_,D,w,E*P,f,a);if(N){N.animate({d:C,opacity:r})}else{i.mark=a.path(C).attr({stroke:S,"stroke-width":E,opacity:r}).add(s.axisGroup)}}if(c&&!isNaN(_)){c.xy=M=i.getLabelPosition(_,D,c,f,p,O,t,k);if(i.isFirst&&!i.isLast&&!_t(o.showFirstLabel,1)||i.isLast&&!i.isFirst&&!_t(o.showLastLabel,1)){A=false}else if(!s.isRadial&&!p.step&&!p.rotation&&!n&&r!==0){A=i.handleOverflow(t,M)}if(k&&t%k){A=false}if(A&&!isNaN(M.y)){M.opacity=r;c[i.isNew?"attr":"animate"](M);i.isNew=false}else{c.attr("y",-9999)}}},destroy:function(){Vt(this,this.axis)}};yt.PlotLineOrBand=function(e,t){this.axis=e;if(t){this.options=t;this.id=t.id}};yt.PlotLineOrBand.prototype={render:function(){var e=this,t=e.axis,n=t.horiz,r=(t.pointRange||0)/2,i=e.options,s=i.label,o=e.label,f=i.width,l=i.percentTo,c=i.percentFrom,h=i.to,p=i.from,d=At(p)&&At(h),v=i.value,m=i.dashStyle,g=e.svgElem,y=[],b,w,E,S,x,T,N=i.color,C=i.zIndex,k=i.events,L={},A=t.chart.renderer;if(t.isLog){p=Ct(p);h=Ct(h);v=Ct(v)}if(f){y=t.getPlotLinePathPartial(v,f,c,l);L={stroke:N,"stroke-width":f};if(m){L.dashstyle=m}}else if(d){p=u(p,t.min-r);h=a(h,t.max+r);y=t.getPlotBandPath(p,h,i);if(N){L.fill=N}if(i.borderWidth){L.stroke=i.borderColor;L["stroke-width"]=i.borderWidth}}else{return}if(At(C)){L.zIndex=C}if(g){if(y){g.animate({d:y},null,g.onGetPath)}else{g.hide();g.onGetPath=function(){g.show()};if(o){e.label=o=o.destroy()}}}else if(y&&y.length){e.svgElem=g=A.path(y).attr(L).add();if(k){b=function(t){g.on(t,function(n){k[t].apply(e,[n])})};for(w in k){b(w)}}}if(s&&At(s.text)&&y&&y.length&&t.width>0&&t.height>0){s=wt({align:n&&d&&"center",x:n?!d&&4:10,verticalAlign:!n&&d&&"middle",y:n?d?16:10:d?6:-4,rotation:n&&!d&&90},s);if(!o){L={align:s.textAlign||s.align,rotation:s.rotation};if(At(C)){L.zIndex=C}e.label=o=A.text(s.text,0,0,s.useHTML).attr(L).css(s.style).add()}E=[y[1],y[4],d?y[6]:y[1]];S=[y[2],y[5],d?y[7]:y[2]];x=Wt(E);T=Wt(S);o.align(s,false,{x:x,y:T,width:Xt(E)-x,height:Xt(S)-T});o.show()}else if(o){o.hide()}return e},destroy:function(){Lt(this.axis.plotLinesAndBands,this);delete this.axis;Vt(this)}};tt={getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t),r=this.getPlotLinePath(e);if(r&&n){r.push(n[4],n[5],n[1],n[2])}else{r=null}return r},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=(new yt.PlotLineOrBand(this,e)).render(),r=this.userOptions;if(n){if(t){r[t]=r[t]||[];r[t].push(e)}this.plotLinesAndBands.push(n)}return n},removePlotBandOrLine:function(e){var t=this.plotLinesAndBands,n=this.options,r=this.userOptions,i=t.length;while(i--){if(t[i].id===e){t[i].destroy()}}tn([n.plotLines||[],r.plotLines||[],n.plotBands||[],r.plotBands||[]],function(t){i=t.length;while(i--){if(t[i].id===e){Lt(t,t[i])}}})}};On.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:false,gridLineColor:"#C0C0C0",labels:hn,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:false,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:true,gridLineWidth:1,tickPixelInterval:72,showLastLabel:true,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:true,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:false,formatter:function(){return Bt(this.total,-1)},style:hn.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(t,n){var r=n.isX,i=this;i.horiz=t.inverted?!r:r;i.isXAxis=r;i.coll=r?"xAxis":"yAxis";i.opposite=n.opposite;i.side=n.side||(i.horiz?i.opposite?0:2:i.opposite?1:3);i.setOptions(n);var s=this.options,o=s.type,u=o==="datetime";i.labelFormatter=s.labels.formatter||i.defaultLabelFormatter;i.userOptions=n;i.minPixelPadding=0;i.chart=t;i.reversed=s.reversed;i.zoomEnabled=s.zoomEnabled!==false;i.categories=s.categories||o==="category";i.names=[];i.isLog=o==="logarithmic";i.isDatetimeAxis=u;i.isLinked=At(s.linkedTo);i.tickmarkOffset=i.categories&&s.tickmarkPlacement==="between"?.5:0;i.ticks={};i.labelEdge=[];i.minorTicks={};i.plotLinesAndBands=[];i.alternateBands={};i.len=0;i.minRange=i.userMinRange=s.minRange||s.maxZoom;i.range=s.range;i.offset=s.offset||0;i.stacks={};i.oldStacks={};i.max=null;i.min=null;i.crosshair=_t(s.crosshair,Mt(t.options.tooltip.crosshairs)[r?0:1],false);var a,f=i.options.events;if(en(i,t.axes)===-1){if(r&&!this.isColorAxis){t.axes.splice(t.xAxis.length,0,i)}else{t.axes.push(i)}t[i.coll].push(i)}i.series=i.series||[];if(t.inverted&&r&&i.reversed===e){i.reversed=true}i.removePlotBand=i.removePlotBandOrLine;i.removePlotLine=i.removePlotBandOrLine;for(a in f){on(i,a,f[a])}if(i.isLog){i.val2lin=Ct;i.lin2val=kt}},setOptions:function(e){this.options=wt(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],wt(O[this.coll],e))},defaultLabelFormatter:function(){var t=this.axis,n=this.value,r=t.categories,i=this.dateTimeLabelFormat,s=O.lang.numericSymbols,o=s&&s.length,u,a,l=t.options.labels.format,c=t.isLog?n:t.tickInterval;if(l){a=qt(l,this)}else if(r){a=n}else if(i){a=M(i,n)}else if(o&&c>=1e3){while(o--&&a===e){u=Math.pow(1e3,o+1);if(c>=u&&s[o]!==null){a=Bt(n/u,-1)+s[o]}}}if(a===e){if(f(n)>=1e4){a=Bt(n,0)}else{a=Bt(n,-1,e,"")}}return a},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=false;e.dataMin=e.dataMax=null;if(e.buildStacks){e.buildStacks()}tn(e.series,function(n){if(n.visible||!t.options.chart.ignoreHiddenSeries){var r=n.options,i,s=r.threshold,o,f;e.hasVisibleSeries=true;if(e.isLog&&s<=0){s=null}if(e.isXAxis){i=n.xData;if(i.length){e.dataMin=a(_t(e.dataMin,i[0]),Wt(i));e.dataMax=u(_t(e.dataMax,i[0]),Xt(i))}}else{n.getExtremes();f=n.dataMax;o=n.dataMin;if(At(o)&&At(f)){e.dataMin=a(_t(e.dataMin,o),o);e.dataMax=u(_t(e.dataMax,f),f)}if(At(s)){if(e.dataMin>=s){e.dataMin=s;e.ignoreMinPadding=true}else if(e.dataMax<s){e.dataMax=s;e.ignoreMaxPadding=true}}}}})},translate:function(e,t,n,r,i,s){var o=this,u=1,a=0,f=r?o.oldTransA:o.transA,l=r?o.oldMin:o.min,c,h=o.minPixelPadding,p=(o.options.ordinal||o.isLog&&i)&&o.lin2val;if(!f){f=o.transA}if(n){u*=-1;a=o.len}if(o.reversed){u*=-1;a-=u*(o.sector||o.len)}if(t){e=e*u+a;e-=h;c=e/f+l;if(p){c=o.lin2val(c)}}else{if(p){e=o.val2lin(e)}if(s==="between"){s=.5}c=u*(e-l)*f+a+u*h+(Nt(s)?f*s*o.pointRange:0)}return c},toPixels:function(e,t){return this.translate(e,false,!this.horiz,null,true)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),true,!this.horiz,null,true)},getPlotLinePath:function(e,t,n,r,s){var o=this,u=o.chart,a=o.left,f=o.top,l,c,h,p,d=n&&u.oldChartHeight||u.chartHeight,v=n&&u.oldChartWidth||u.chartWidth,m,g=o.transB;s=_t(s,o.translate(e,null,null,n));l=h=i(s+g);c=p=i(d-s-g);if(isNaN(s)){m=true}else if(o.horiz){c=f;p=d-o.bottom;if(l<a||l>a+o.width){m=true}}else{l=a;h=v-o.right;if(c<f||c>f+o.height){m=true}}return m&&!r?null:u.renderer.crispLine([K,l,c,Q,h,p],t||1)},getPlotLinePathPartial:function(e,t,n,r,s,o,u){var a=this,f=a.chart,l=a.left,c=a.top,h,p,d,v,m=s&&f.oldChartHeight||f.chartHeight,g=s&&f.oldChartWidth||f.chartWidth,y,b=a.transB;u=_t(u,a.translate(e,null,null,s));h=d=i(u+b);p=v=i(m-u-b);if(isNaN(u)){y=true}else if(a.horiz){p=c;v=m-a.bottom;if(h<l||h>l+a.width){y=true}}else{h=l+(g-a.right-a.left)*n;d=l+(g-a.right-a.left)*r;if(p<c||p>c+a.height){y=true}}return y&&!o?null:f.renderer.crispLine([K,h,p,Q,d,v],t||1)},getLinearTickPositions:function(e,t,n){var r,i,u=Jt(s(t/e)*e),a=Jt(o(n/e)*e),f=[];if(t===n&&Nt(t)){return[t]}r=u;while(r<=a){f.push(r);r=Jt(r+e);if(r===i){break}i=r}return f},getMinorTickPositions:function(){var e=this,t=e.options,n=e.tickPositions,r=e.minorTickInterval,i=[],s,o,u;if(e.isLog){u=n.length;for(o=1;o<u;o++){i=i.concat(e.getLogTickPositions(r,n[o-1],n[o],true))}}else if(e.isDatetimeAxis&&t.minorTickInterval==="auto"){i=i.concat(e.getTimeTicks(e.normalizeTimeTickInterval(r),e.min,e.max,t.startOfWeek));if(i[0]<e.min){i.shift()}}else{for(s=e.min+(n[0]-e.min)%r;s<=e.max;s+=r){i.push(s)}}return i},adjustForMinRange:function(){var t=this,n=t.options,r=t.min,i=t.max,s,o=t.dataMax-t.dataMin>=t.minRange,u,f,l,c,h,p,d;if(t.isXAxis&&t.minRange===e&&!t.isLog){if(At(n.min)||At(n.max)){t.minRange=null}else{tn(t.series,function(t){c=t.xData;h=t.xIncrement?1:c.length-1;for(f=h;f>0;f--){l=c[f]-c[f-1];if(u===e||l<u){u=l}}});t.minRange=a(u*5,t.dataMax-t.dataMin)}}if(i-r<t.minRange){var v=t.minRange;s=(v-i+r)/2;p=[r-s,_t(n.min,r-s)];if(o){p[2]=t.dataMin}r=Xt(p);d=[r+v,_t(n.max,r+v)];if(o){d[2]=t.dataMax}i=Wt(d);if(i-r<v){p[0]=i-v;p[1]=_t(n.min,i-v);r=Xt(p)}}t.min=r;t.max=i},setAxisTranslation:function(e){var t=this,n=t.max-t.min,r=t.axisPointRange||0,i,s=0,o=0,f=t.linkedParent,l,c=!!t.categories,h=t.transA;if(t.isXAxis||c||r){if(f){s=f.minPointOffset;o=f.pointRangePadding}else{tn(t.series,function(e){var f=c?1:t.isXAxis?e.pointRange:t.axisPointRange||0,l=e.options.pointPlacement,h=e.closestPointRange;if(f>n){f=0}r=u(r,f);s=u(s,St(l)?0:f/2);o=u(o,l==="on"?0:f);if(!e.noSharedTooltip&&At(h)){i=At(i)?a(i,h):h}})}l=t.ordinalSlope&&i?t.ordinalSlope/i:1;t.minPointOffset=s=s*l;t.pointRangePadding=o=o*l;t.pointRange=a(r,n);t.closestPointRange=i}if(e){t.oldTransA=h}t.translationSlope=t.transA=h=t.len/(n+o||1);t.transB=t.horiz?t.left:t.bottom;t.minPixelPadding=h*s},setTickPositions:function(e){var t=this,n=t.chart,r=t.options,i=r.startOnTick,s=r.endOnTick,o=t.isLog,l=t.isDatetimeAxis,c=t.isXAxis,h=t.isLinked,p=t.options.tickPositioner,d=r.maxPadding,v=r.minPadding,m,g,y=r.tickInterval,b=r.minTickInterval,w=r.tickPixelInterval,E,S,x=t.categories;if(h){t.linkedParent=n[t.coll][r.linkedTo];g=t.linkedParent.getExtremes();t.min=_t(g.min,g.dataMin);t.max=_t(g.max,g.dataMax);if(r.type!==t.linkedParent.options.type){H(11,1)}}else{t.min=_t(t.userMin,r.min,t.dataMin);t.max=_t(t.userMax,r.max,t.dataMax)}if(o){if(!e&&a(t.min,_t(t.dataMin,t.min))<=0){H(10,1)}t.min=Jt(Ct(t.min));t.max=Jt(Ct(t.max))}if(t.range&&At(t.max)){t.userMin=t.min=u(t.min,t.max-t.range);t.userMax=t.max;t.range=null}if(t.beforePadding){t.beforePadding()}t.adjustForMinRange();if(!x&&!t.axisPointRange&&!t.usePercentage&&!h&&At(t.min)&&At(t.max)){m=t.max-t.min;if(m){if(!At(r.min)&&!At(t.userMin)&&v&&(t.dataMin<0||!t.ignoreMinPadding)){t.min-=m*v}if(!At(r.max)&&!At(t.userMax)&&d&&(t.dataMax>0||!t.ignoreMaxPadding)){t.max+=m*d}}}if(Nt(r.floor)){t.min=u(t.min,r.floor)}if(Nt(r.ceiling)){t.max=a(t.max,r.ceiling)}if(t.min===t.max||t.min===undefined||t.max===undefined){t.tickInterval=1}else if(h&&!y&&w===t.linkedParent.options.tickPixelInterval){t.tickInterval=t.linkedParent.tickInterval}else{t.tickInterval=_t(y,x?1:(t.max-t.min)*w/u(t.len,w));if(!At(y)&&t.len<w&&!this.isRadial&&!this.isLog&&!x&&i&&s){S=true;t.tickInterval/=4}}if(c&&!e){tn(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)})}t.setAxisTranslation(true);if(t.beforeSetTickPositions){t.beforeSetTickPositions()}if(t.postProcessTickInterval){t.tickInterval=t.postProcessTickInterval(t.tickInterval)}if(t.pointRange){t.tickInterval=u(t.pointRange,t.tickInterval)}if(!y&&t.tickInterval<b){t.tickInterval=b}if(!l&&!o){if(!y){t.tickInterval=Ut(t.tickInterval,null,Rt(t.tickInterval),r)}}t.minorTickInterval=r.minorTickInterval==="auto"&&t.tickInterval?t.tickInterval/5:r.minorTickInterval;t.tickPositions=E=r.tickPositions?[].concat(r.tickPositions):p&&p.apply(t,[t.min,t.max]);if(!E){if(!t.ordinalPositions&&(t.max-t.min)/t.tickInterval>u(2*t.len,200)){H(19,true)}if(l){E=t.getTimeTicks(t.normalizeTimeTickInterval(t.tickInterval,r.units),t.min,t.max,r.startOfWeek,t.ordinalPositions,t.closestPointRange,true)}else if(o){E=t.getLogTickPositions(t.tickInterval,t.min,t.max)}else{E=t.getLinearTickPositions(t.tickInterval,t.min,t.max)}if(S){E.splice(1,E.length-2)}t.tickPositions=E}if(!h){var T=E[0],N=E[E.length-1],C=t.minPointOffset||0,k;if(i){t.min=T}else if(t.min-C>T){E.shift()}if(s){t.max=N}else if(t.max+C<N){E.pop()}if(E.length===0){E.splice(1,0,(N+T)/2)}if(E.length===1){k=f(t.max)>1e13?1:.001;t.min-=k;t.max+=k}}},setMaxTicks:function(){var e=this.chart,t=e.maxTicks||{},n=this.tickPositions,r=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");if(!this.isLinked&&!this.isDatetimeAxis&&n&&n.length>(t[r]||0)&&this.options.alignTicks!==false){t[r]=n.length}e.maxTicks=t},adjustTickAmount:function(){var t=this,n=t.chart,r=t._maxTicksKey,i=t.tickPositions,s=n.maxTicks;if(s&&s[r]&&!t.isDatetimeAxis&&!t.categories&&!t.isLinked&&t.options.alignTicks!==false&&this.min!==e){var o=t.tickAmount,u=i.length,a;t.tickAmount=a=s[r];if(u<a){while(i.length<a){i.push(Jt(i[i.length-1]+t.tickInterval))}t.transA*=(u-1)/(a-1);t.max=i[i.length-1]}if(At(o)&&a!==o){t.isDirty=true}}},setScale:function(){var e=this,t=e.stacks,n,r,i,s;e.oldMin=e.min;e.oldMax=e.max;e.oldAxisLength=e.len;e.setAxisSize();s=e.len!==e.oldAxisLength;tn(e.series,function(e){if(e.isDirtyData||e.isDirty||e.xAxis.isDirty){i=true}});if(s||i||e.isLinked||e.forceRedraw||e.userMin!==e.oldUserMin||e.userMax!==e.oldUserMax){if(!e.isXAxis){for(n in t){for(r in t[n]){t[n][r].total=null;t[n][r].cum=0}}}e.forceRedraw=false;e.getSeriesExtremes();e.setTickPositions();e.oldUserMin=e.userMin;e.oldUserMax=e.userMax;if(!e.isDirty){e.isDirty=s||e.min!==e.oldMin||e.max!==e.oldMax}}else if(!e.isXAxis){if(e.oldStacks){t=e.stacks=e.oldStacks}for(n in t){for(r in t[n]){t[n][r].cum=t[n][r].total}}}e.setMaxTicks()},setExtremes:function(e,t,n,r,i){var s=this,o=s.chart;n=_t(n,true);i=bt(i,{min:e,max:t});an(s,"setExtremes",i,function(){s.userMin=e;s.userMax=t;s.eventArgs=i;s.isDirtyExtremes=true;if(n){o.redraw(r)}})},zoom:function(t,n){var r=this.dataMin,i=this.dataMax,s=this.options;if(!this.allowZoomOutside){if(At(r)&&t<=a(r,_t(s.min,r))){t=e}if(At(i)&&n>=u(i,_t(s.max,i))){n=e}}this.displayBtn=t!==e||n!==e;this.setExtremes(t,n,false,e,{trigger:"zoom"});return true},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,r=t.offsetRight||0,i=this.horiz,s=_t(t.width,e.plotWidth-n+r),o=_t(t.height,e.plotHeight),a=_t(t.top,e.plotTop),f=_t(t.left,e.plotLeft+n),l=/%$/;if(l.test(o)){o=parseInt(o,10)/100*e.plotHeight}if(l.test(a)){a=parseInt(a,10)/100*e.plotHeight+e.plotTop}this.left=f;this.top=a;this.width=s;this.height=o;this.bottom=e.chartHeight-o-a;this.right=e.chartWidth-s-f;this.len=u(i?s:o,0);this.pos=i?f:a},getExtremes:function(){var e=this,t=e.isLog;return{min:t?Jt(kt(e.min)):e.min,max:t?Jt(kt(e.max)):e.max,dataMin:e.dataMin,dataMax:e.dataMax,userMin:e.userMin,userMax:e.userMax}},getThreshold:function(e){var t=this,n=t.isLog;var r=n?kt(t.min):t.min,i=n?kt(t.max):t.max;if(r>e||e===null){e=r}else if(i<e){e=i}return t.translate(e,0,1,0,1)},autoLabelAlign:function(e){var t,n=(_t(e,0)-this.side*90+720)%360;if(n>15&&n<165){t="right"}else if(n>195&&n<345){t="left"}else{t="center"}return t},getOffset:function(){var t=this,n=t.chart,r=n.renderer,i=t.options,o=t.tickPositions,a=t.ticks,f=t.horiz,l=t.side,c=n.inverted?[1,0,3,2][l]:l,h,p,d=0,v,m=0,g=i.title,y=i.labels,b=0,w,E=n.axisOffset,S=n.clipOffset,x=[-1,1,1,-1][l],T,N,C=1,k=_t(y.maxStaggerLines,5),L,A,O,M,_,D,P,H,B;t.hasData=h=t.hasVisibleSeries||At(t.min)&&At(t.max)&&!!o;t.showAxis=p=h||_t(i.showEmpty,true);t.staggerLines=t.horiz&&y.staggerLines;if(!t.axisGroup){t.gridGroup=r.g("grid").attr({zIndex:i.gridZIndex||1}).add();t.axisGroup=r.g("axis").attr({zIndex:i.zIndex||2}).add();t.labelGroup=r.g("axis-labels").attr({zIndex:y.zIndex||7}).addClass(X+t.coll.toLowerCase()+"-labels").add()}if(h||t.isLinked){t.labelAlign=_t(y.align||t.autoLabelAlign(y.rotation));tn(o,function(e){if(!a[e]){a[e]=new An(t,e)}else{a[e].addLabel()}});if(t.horiz&&!t.staggerLines&&k&&!y.rotation){L=t.reversed?[].concat(o).reverse():o;while(C<k){A=[];O=false;for(N=0;N<L.length;N++){M=L[N];_=a[M].label&&a[M].label.getBBox();P=_?_.width:0;H=N%C;if(P){D=t.translate(M);if(A[H]!==e&&D<A[H]){O=true}A[H]=D+P}}if(O){C++}else{break}}if(C>1){t.staggerLines=C}}tn(o,function(e){if(l===0||l===2||{1:"left",3:"right"}[l]===t.labelAlign){b=u(a[e].getLabelSize(),b)}});if(t.staggerLines){b*=t.staggerLines;t.labelOffset=b}}else{for(T in a){a[T].destroy();delete a[T]}}if(g&&g.text&&g.enabled!==false){if(!t.axisTitle){t.axisTitle=r.text(g.text,0,0,g.useHTML).attr({zIndex:7,rotation:g.rotation||0,align:g.textAlign||{low:"left",middle:"center",high:"right"}[g.align]}).addClass(X+this.coll.toLowerCase()+"-title").css(g.style).add(t.axisGroup);t.axisTitle.isNew=true}if(p){d=t.axisTitle.getBBox()[f?"height":"width"];v=g.offset;m=At(v)?0:_t(g.margin,f?5:10)}t.axisTitle[p?"show":"hide"]()}t.offset=x*_t(i.offset,E[l]);B=l===2?t.tickBaseline:0;w=b+m+(b&&x*(f?_t(y.y,t.tickBaseline+8):y.x)-B);t.axisTitleMargin=_t(v,w);E[l]=u(E[l],t.axisTitleMargin+d+x*t.offset,w);S[c]=u(S[c],s(i.lineWidth/2)*2)},getLinePath:function(e){var t=this.chart,n=this.opposite,r=this.offset,i=this.horiz,s=this.left+(n?this.width:0)+r,o=t.chartHeight-this.bottom-(n?this.height:0)+r;if(n){e*=-1}return t.renderer.crispLine([K,i?this.left:s,i?o:this.top,Q,i?t.chartWidth-this.right:s,i?o:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,n=this.top,r=this.len,i=this.options.title,s=e?t:n,o=this.opposite,u=this.offset,a=Et(i.style.fontSize||12),f={low:s+(e?0:r),middle:s+r/2,high:s+(e?r:0)}[i.align],l=(e?n+this.height:t)+(e?1:-1)*(o?-1:1)*this.axisTitleMargin+(this.side===2?a:0);return{x:e?f:l+(o?this.width:0)+u+(i.x||0),y:e?l-(o?this.height:0)+u:f+(i.y||0)}},render:function(){var t=this,n=t.horiz,r=t.reversed,i=t.chart,s=i.renderer,o=t.options,u=t.isLog,a=t.isLinked,f=t.tickPositions,l,c=t.axisTitle,h=t.ticks,p=t.minorTicks,d=t.alternateBands,v=o.stackLabels,m=o.alternateGridColor,g=t.tickmarkOffset,y=o.lineWidth,b,w=i.hasRendered,E=w&&At(t.oldMin)&&!isNaN(t.oldMin),S=t.hasData,x=t.showAxis,T,N=o.labels.overflow,C=t.justifyLabels=n&&N!==false,k;t.labelEdge.length=0;t.justifyToPlot=N==="justify";tn([h,p,d],function(e){var t;for(t in e){e[t].isActive=false}});if(S||a){if(t.minorTickInterval&&!t.categories){tn(t.getMinorTickPositions(),function(e){if(!p[e]){p[e]=new An(t,e,"minor")}if(E&&p[e].isNew){p[e].render(null,true)}p[e].render(null,false,1)})}if(f.length){l=f.slice();if(n&&r||!n&&!r){l.reverse()}if(C){l=l.slice(1).concat([l[0]])}tn(l,function(e,n){if(C){n=n===l.length-1?0:n+1}if(!a||e>=t.min&&e<=t.max){if(!h[e]){h[e]=new An(t,e)}if(E&&h[e].isNew){h[e].render(n,true,.1)}h[e].render(n)}});if(g&&t.min===0){if(!h[-1]){h[-1]=new An(t,-1,null,true)}h[-1].render(-1)}}if(m){tn(f,function(n,r){if(r%2===0&&n<t.max){if(!d[n]){d[n]=new yt.PlotLineOrBand(t)}T=n+g;k=f[r+1]!==e?f[r+1]+g:t.max;d[n].options={from:u?kt(T):T,to:u?kt(k):k,color:m};d[n].render();d[n].isActive=true}})}if(!t._addedPlotLB){tn((o.plotLines||[]).concat(o.plotBands||[]),function(e){t.addPlotBandOrLine(e)});t._addedPlotLB=true}}tn([h,p,d],function(e){var t,n,r=[],s=_?_.duration||500:0,o=function(){n=r.length;while(n--){if(e[r[n]]&&!e[r[n]].isActive){e[r[n]].destroy();delete e[r[n]]}}};for(t in e){if(!e[t].isActive){e[t].render(t,false,0);e[t].isActive=false;r.push(t)}}if(e===d||!i.hasRendered||!s){o()}else if(s){setTimeout(o,s)}});if(y){b=t.getLinePath(y);if(!t.axisLine){t.axisLine=s.path(b).attr({stroke:o.lineColor,"stroke-width":y,zIndex:7}).add(t.axisGroup)}else{t.axisLine.animate({d:b})}t.axisLine[x?"show":"hide"]()}if(c&&x){c[c.isNew?"attr":"animate"](t.getTitlePosition());c.isNew=false}if(v&&v.enabled){t.renderStackTotals()}t.isDirty=false},redraw:function(){this.render();tn(this.plotLinesAndBands,function(e){e.render()});tn(this.series,function(e){e.isDirty=true})},destroy:function(e){var t=this,n=t.stacks,r,i=t.plotLinesAndBands,s;if(!e){un(t)}for(r in n){Vt(n[r]);n[r]=null}tn([t.ticks,t.minorTicks,t.alternateBands],function(e){Vt(e)});s=i.length;while(s--){i[s].destroy()}tn(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(e){if(t[e]){t[e]=t[e].destroy()}});if(this.cross){this.cross.destroy()}},drawCrosshair:function(e,t){if(!this.crosshair){return}if((At(t)||!_t(this.crosshair.snap,true))===false){this.hideCrosshair();return}var n,r=this.crosshair,i=r.animation,s;if(!_t(r.snap,true)){s=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos}else if(At(t)){s=this.chart.inverted!=this.horiz?t.plotX:this.len-t.plotY}if(this.isRadial){n=this.getPlotLinePath(this.isXAxis?t.x:_t(t.stackY,t.y))}else{n=this.getPlotLinePath(null,null,null,null,s)}if(n===null){this.hideCrosshair();return}if(this.cross){this.cross.attr({visibility:V})[i?"animate":"attr"]({d:n},i)}else{var o={"stroke-width":r.width||1,stroke:r.color||"#C0C0C0",zIndex:r.zIndex||2};if(r.dashStyle){o.dashstyle=r.dashStyle}this.cross=this.chart.renderer.path(n).attr(o).add()}},hideCrosshair:function(){if(this.cross){this.cross.hide()}}};bt(On.prototype,tt);On.prototype.getTimeTicks=function(e,t,n,r){var i=[],o,u={},a=O.global.useUTC,f,l=new rt(t-st),c=e.unitRange,h=e.count;if(At(t)){if(c>=P.second){l.setMilliseconds(0);l.setSeconds(c>=P.minute?0:h*s(l.getSeconds()/h))}if(c>=P.minute){l[ht](c>=P.hour?0:h*s(l[ot]()/h))}if(c>=P.hour){l[pt](c>=P.day?0:h*s(l[ut]()/h))}if(c>=P.day){l[dt](c>=P.month?1:h*s(l[ft]()/h))}if(c>=P.month){l[vt](c>=P.year?0:h*s(l[lt]()/h));f=l[ct]()}if(c>=P.year){f-=f%h;l[mt](f)}if(c===P.week){l[dt](l[ft]()-l[at]()+_t(r,1))}o=1;if(st){l=new rt(l.getTime()+st)}f=l[ct]();var p=l.getTime(),d=l[lt](),v=l[ft](),m=a?st:(24*3600*1e3+l.getTimezoneOffset()*60*1e3)%(24*3600*1e3);while(p<n){i.push(p);if(c===P.year){p=it(f+o*h,0)}else if(c===P.month){p=it(f,d+o*h)}else if(!a&&(c===P.day||c===P.week)){p=it(f,d,v+o*h*(c===P.day?1:7))}else{p+=c*h}o++}i.push(p);tn(nn(i,function(e){return c<=P.hour&&e%P.day===m}),function(e){u[e]="day"})}i.info=bt(e,{higherRanks:u,totalRange:c*h});return i};On.prototype.normalizeTimeTickInterval=function(e,t){var n=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=n[n.length-1],i=P[r[0]],s=r[1],o,a;for(a=0;a<n.length;a++){r=n[a];i=P[r[0]];s=r[1];if(n[a+1]){var f=(i*s[s.length-1]+P[n[a+1][0]])/2;if(e<=f){break}}}if(i===P.year&&e<5*i){s=[1,2,5]}o=Ut(e/i,s,r[0]==="year"?u(Rt(e/i),1):1);return{unitRange:i,count:o,unitName:r[0]}};On.prototype.getLogTickPositions=function(t,n,r,o){var u=this,a=u.options,f=u.len,l=[];if(!o){u._minorAutoInterval=null}if(t>=.5){t=i(t);l=u.getLinearTickPositions(t,n,r)}else if(t>=.08){var c=s(n),h,p,d,v,m,g,y;if(t>.3){h=[1,2,4]}else if(t>.15){h=[1,2,4,6,8]}else{h=[1,2,3,4,5,6,7,8,9]}for(p=c;p<r+1&&!y;p++){v=h.length;for(d=0;d<v&&!y;d++){m=Ct(kt(p)*h[d]);if(m>n&&(!o||g<=r)&&g!==e){l.push(g)}if(g>r){y=true}g=m}}}else{var b=kt(n),w=kt(r),E=a[o?"minorTickInterval":"tickInterval"],S=E==="auto"?null:E,x=a.tickPixelInterval/(o?5:1),T=o?f/u.tickPositions.length:f;t=_t(S,u._minorAutoInterval,(w-b)*x/(T||1));t=Ut(t,null,Rt(t));l=sn(u.getLinearTickPositions(t,b,w),Ct);if(!o){u._minorAutoInterval=t/5}}if(!o){u.tickInterval=t}return l};var Mn=yt.Tooltip=function(){this.init.apply(this,arguments)};Mn.prototype={init:function(e,t){var n=t.borderWidth,r=t.style,i=Et(r.padding);this.chart=e;this.options=t;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=true;this.label=e.renderer.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:i,fill:t.backgroundColor,"stroke-width":n,r:t.borderRadius,zIndex:8}).css(r).css({padding:0}).add().attr({y:-9999});if(!T){this.label.shadow(t.shadow)}this.shared=t.shared},destroy:function(){if(this.label){this.label=this.label.destroy()}clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(t,n,r,i){var s=this,o=s.now,u=s.options.animation!==false&&!s.isHidden&&(f(t-o.x)>1||f(n-o.y)>1),a=s.followPointer||s.len>1;bt(o,{x:u?(2*o.x+t)/3:t,y:u?(o.y+n)/2:n,anchorX:a?e:u?(2*o.anchorX+r)/3:r,anchorY:a?e:u?(o.anchorY+i)/2:i});s.label.attr(o);if(u){clearTimeout(this.tooltipTimeout);this.tooltipTimeout=setTimeout(function(){if(s){s.move(t,n,r,i)}},32)}},hide:function(){var e=this,t;clearTimeout(this.hideTimer);if(!this.isHidden){t=this.chart.hoverPoints;this.hideTimer=setTimeout(function(){e.label.fadeOut();e.isHidden=true},_t(this.options.hideDelay,500));if(t){tn(t,function(e){e.setState()})}this.chart.hoverPoints=null}},getAnchor:function(t,n){var r,s=this.chart,o=s.inverted,u=s.plotTop,a=0,f=0,l;t=Mt(t);r=t[0].tooltipPos;if(this.followPointer&&n){if(n.chartX===e){n=s.pointer.normalize(n)}r=[n.chartX-s.plotLeft,n.chartY-u]}if(!r){tn(t,function(e){l=e.series.yAxis;a+=e.plotX;f+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!o&&l?l.top-u:0)});a/=t.length;f/=t.length;r=[o?s.plotWidth-f:a,this.shared&&!o&&t.length>1&&n?n.chartY-u:o?s.plotHeight-a:f]}return sn(r,i)},getPosition:function(e,t,n){var r=this.chart,i=this.distance,s={},o,u=["y",r.chartHeight,t,n.plotY+r.plotTop],a=["x",r.chartWidth,e,n.plotX+r.plotLeft],f=n.ttBelow||r.inverted&&!n.negative||!r.inverted&&n.negative,l=function(e,t,n,r){var o=n<r-i,u=r+i+n<t,a=r-i-n,l=r+i;if(f&&u){s[e]=l}else if(!f&&o){s[e]=a}else if(o){s[e]=a}else if(u){s[e]=l}else{return false}},c=function(e,t,n,r){if(r<i||r>t-i){return false}else if(r<n/2){s[e]=1}else if(r>t-n/2){s[e]=t-n-2}else{s[e]=r-n/2}},h=function(e){var t=u;u=a;a=t;o=e},p=function(){if(l.apply(0,u)!==false){if(c.apply(0,a)===false&&!o){h(true);p()}}else if(!o){h(true);p()}else{s.x=s.y=0}};if(r.inverted||this.len>1){h()}p();return s},defaultFormatter:function(e){var t=this.points||Mt(this),n=t[0].series,r;r=[e.tooltipHeaderFormatter(t[0])];tn(t,function(e){n=e.series;r.push(n.tooltipFormatter&&n.tooltipFormatter(e)||e.point.tooltipFormatter(n.tooltipOptions.pointFormat))});r.push(e.options.footerFormat||"");return r.join("")},refresh:function(e,t){var n=this,r=n.chart,i=n.label,s=n.options,o,u,a,f={},l,c=[],h=s.formatter||n.defaultFormatter,p=r.hoverPoints,d,v=n.shared,m;clearTimeout(this.hideTimer);n.followPointer=Mt(e)[0].series.tooltipOptions.followPointer;a=n.getAnchor(e,t);o=a[0];u=a[1];if(v&&!(e.series&&e.series.noSharedTooltip)){r.hoverPoints=e;if(p){tn(p,function(e){e.setState()})}tn(e,function(e){e.setState(Z);c.push(e.getLabelConfig())});f={x:e[0].category,y:e[0].y};f.points=c;this.len=c.length;e=e[0]}else{f=e.getLabelConfig()}l=h.call(f,n);m=e.series;this.distance=_t(m.tooltipOptions.distance,16);if(l===false){this.hide()}else{if(n.isHidden){cn(i);i.attr("opacity",1).show()}i.attr({text:l});d=s.borderColor||e.color||m.color||"#606060";i.attr({stroke:d});n.updatePosition({plotX:o,plotY:u,negative:e.negative,ttBelow:e.ttBelow});this.isHidden=false}an(r,"tooltipRefresh",{text:l,x:o+r.plotLeft,y:u+r.plotTop,borderColor:d})},updatePosition:function(e){var t=this.chart,n=this.label,r=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(i(r.x),i(r.y),e.plotX+t.plotLeft,e.plotY+t.plotTop)},tooltipHeaderFormatter:function(e){var t=e.series,n=t.tooltipOptions,r=n.dateTimeLabelFormats,i=n.xDateFormat,s=t.xAxis,o=s&&s.options.type==="datetime"&&Nt(e.key),u=n.headerFormat,a=s&&s.closestPointRange,f;if(o&&!i){if(a){for(f in P){if(P[f]>=a||P[f]<=P.day&&e.key%P[f]>0){i=r[f];break}}}else{i=r.day}i=i||r.year}if(o&&i){u=u.replace("{point.key}","{point.key:"+i+"}")}return qt(u,{point:e,series:t})}};var _n;C=t.documentElement.ontouchstart!==e;var Dn=yt.Pointer=function(e,t){this.init(e,t)};Dn.prototype={init:function(e,t){var n=t.chart,r=n.events,i=T?"":n.zoomType,s=e.inverted,o,u;this.options=t;this.chart=e;this.zoomX=o=/x/.test(i);this.zoomY=u=/y/.test(i);this.zoomHor=o&&!s||u&&s;this.zoomVert=u&&!s||o&&s;this.hasZoom=o||u;this.runChartClick=r&&!!r.click;this.pinchDown=[];this.lastValidTouch={};if(yt.Tooltip&&t.tooltip.enabled){e.tooltip=new Mn(e,t.tooltip);this.followTouchMove=t.tooltip.followTouchMove}this.setDOMEvents()},normalize:function(t,n){var r,s,o;t=t||window.event;t=fn(t);if(!t.target){t.target=t.srcElement}o=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t;if(!n){this.chartPosition=n=rn(this.chart.container)}if(o.pageX===e){r=u(t.x,t.clientX-n.left);s=t.y}else{r=o.pageX-n.left;s=o.pageY-n.top}return bt(t,{chartX:i(r),chartY:i(s)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};tn(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})});return t},getIndex:function(e){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-e.chartY:e.chartX-t.plotLeft},runPointActions:function(e){var n=this,r=n.chart,i=r.series,s=r.tooltip,o,u,l,c=r.hoverPoint,h=r.hoverSeries,p,d,v=r.chartWidth,m=n.getIndex(e),g;if(s&&n.options.tooltip.shared&&!(h&&h.noSharedTooltip)){l=[];p=i.length;for(d=0;d<p;d++){if(i[d].visible&&i[d].options.enableMouseTracking!==false&&!i[d].noSharedTooltip&&i[d].singularTooltips!==true&&i[d].tooltipPoints.length){u=i[d].tooltipPoints[m];if(u&&u.series){u._dist=f(m-u.clientX);v=a(v,u._dist);l.push(u)}}}p=l.length;while(p--){if(l[p]._dist>v){l.splice(p,1)}}if(l.length&&l[0].clientX!==n.hoverX){s.refresh(l,e);n.hoverX=l[0].clientX}}o=h&&h.tooltipOptions.followPointer;if(h&&h.tracker&&!o){u=h.tooltipPoints[m];if(u&&u!==c){u.onMouseOver(e)}}else if(s&&o&&!s.isHidden){g=s.getAnchor([{}],e);s.updatePosition({plotX:g[0],plotY:g[1]})}if(s&&!n._onDocumentMouseMove){n._onDocumentMouseMove=function(e){if(j[_n]){j[_n].pointer.onDocumentMouseMove(e)}};on(t,"mousemove",n._onDocumentMouseMove)}tn(r.axes,function(t){t.drawCrosshair(e,_t(u,c))})},reset:function(n){var r=this,i=r.chart,s=i.hoverSeries,o=i.hoverPoint,u=i.tooltip,a=u&&u.shared?i.hoverPoints:o;n=n&&u&&a;if(n&&Mt(a)[0].plotX===e){n=false}if(n){u.refresh(a);if(o){o.setState(o.state,true)}}else{if(o){o.onMouseOut()}if(s){s.onMouseOut()}if(u){u.hide()}if(r._onDocumentMouseMove){un(t,"mousemove",r._onDocumentMouseMove);r._onDocumentMouseMove=null}tn(i.axes,function(e){e.hideCrosshair()});r.hoverX=null}},scaleGroups:function(e,t){var n=this.chart,r;tn(n.series,function(i){r=e||i.getPlotBox();if(i.xAxis&&i.xAxis.zoomEnabled){i.group.attr(r);if(i.markerGroup){i.markerGroup.attr(r);i.markerGroup.clip(t?n.clipRect:null)}if(i.dataLabelsGroup){i.dataLabelsGroup.attr(r)}}});n.clipRect.attr(t||n.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type;t.cancelClick=false;t.mouseDownX=this.mouseDownX=e.chartX;t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t=this.chart,n=t.options.chart,r=e.chartX,i=e.chartY,s=this.zoomHor,o=this.zoomVert,u=t.plotLeft,a=t.plotTop,l=t.plotWidth,c=t.plotHeight,h,p,d=this.mouseDownX,v=this.mouseDownY,m=n.panKey&&e[n.panKey+"Key"];if(r<u){r=u}else if(r>u+l){r=u+l}if(i<a){i=a}else if(i>a+c){i=a+c}this.hasDragged=Math.sqrt(Math.pow(d-r,2)+Math.pow(v-i,2));if(this.hasDragged>10){h=t.isInsidePlot(d-u,v-a);if(t.hasCartesianSeries&&(this.zoomX||this.zoomY)&&h&&!m){if(!this.selectionMarker){this.selectionMarker=t.renderer.rect(u,a,s?1:l,o?1:c,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()}}if(this.selectionMarker&&s){p=r-d;this.selectionMarker.attr({width:f(p),x:(p>0?0:p)+d})}if(this.selectionMarker&&o){p=i-v;this.selectionMarker.attr({height:f(p),y:(p>0?0:p)+v})}if(h&&!this.selectionMarker&&n.panning){t.pan(e,n.panning)}}},drop:function(e){var t=this.chart,n=this.hasPinched;if(this.selectionMarker){var r={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},i=this.selectionMarker,s=i.attr?i.attr("x"):i.x,o=i.attr?i.attr("y"):i.y,f=i.attr?i.attr("width"):i.width,l=i.attr?i.attr("height"):i.height,c;if(this.hasDragged||n){tn(t.axes,function(t){if(t.zoomEnabled){var n=t.horiz,i=e.type==="touchend"?t.minPixelPadding:0,h=t.toValue((n?s:o)+i),p=t.toValue((n?s+f:o+l)-i);if(!isNaN(h)&&!isNaN(p)){r[t.coll].push({axis:t,min:a(h,p),max:u(h,p)});c=true}}});if(c){an(t,"selection",r,function(e){t.zoom(bt(e,n?{animation:false}:null))})}}this.selectionMarker=this.selectionMarker.destroy();if(n){this.scaleGroups()}}if(t){Dt(t.container,{cursor:t._cursor});t.cancelClick=this.hasDragged>10;t.mouseIsDown=this.hasDragged=this.hasPinched=false;this.pinchDown=[]}},onContainerMouseDown:function(e){e=this.normalize(e);if(e.preventDefault){e.preventDefault()}this.dragStart(e)},onDocumentMouseUp:function(e){if(j[_n]){j[_n].pointer.drop(e)}},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition,r=t.hoverSeries;e=this.normalize(e,n);if(n&&r&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)){this.reset()}},onContainerMouseLeave:function(){var e=j[_n];if(e){e.pointer.reset();e.pointer.chartPosition=null}},onContainerMouseMove:function(e){var t=this.chart;_n=t.index;e=this.normalize(e);e.returnValue=false;if(t.mouseIsDown==="mousedown"){this.drag(e)}if((this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu){this.runPointActions(e)}},inClass:function(e,t){var n;while(e){n=Ot(e,"class");if(n){if(n.indexOf(t)!==-1){return true}else if(n.indexOf(X+"container")!==-1){return false}}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,n=e.relatedTarget||e.toElement,r=n&&n.point&&n.point.series;if(t&&!t.options.stickyTracking&&!this.inClass(n,X+"tooltip")&&r!==t){t.onMouseOut()}},onContainerClick:function(e){var t=this.chart,n=t.hoverPoint,r=t.plotLeft,i=t.plotTop;e=this.normalize(e);e.cancelBubble=true;if(!t.cancelClick){if(n&&this.inClass(e.target,X+"tracker")){an(n.series,"click",bt(e,{point:n}));if(t.hoverPoint){n.firePointEvent("click",e)}}else{bt(e,this.getCoordinates(e));if(t.isInsidePlot(e.chartX-r,e.chartY-i)){an(t,"click",e)}}}},setDOMEvents:function(){var e=this,n=e.chart.container;n.onmousedown=function(t){e.onContainerMouseDown(t)};n.onmousemove=function(t){e.onContainerMouseMove(t)};n.onclick=function(t){e.onContainerClick(t)};on(n,"mouseleave",e.onContainerMouseLeave);if(F===1){on(t,"mouseup",e.onDocumentMouseUp)}if(C){n.ontouchstart=function(t){e.onContainerTouchStart(t)};n.ontouchmove=function(t){e.onContainerTouchMove(t)};if(F===1){on(t,"touchend",e.onDocumentTouchEnd)}}},destroy:function(){var e;un(this.chart.container,"mouseleave",this.onContainerMouseLeave);if(!F){un(t,"mouseup",this.onDocumentMouseUp);un(t,"touchend",this.onDocumentTouchEnd)}clearInterval(this.tooltipTimeout);for(e in this){this[e]=null}}};bt(yt.Pointer.prototype,{pinchTranslate:function(e,t,n,r,i,s){if(this.zoomHor||this.pinchHor){this.pinchTranslateDirection(true,e,t,n,r,i,s)}if(this.zoomVert||this.pinchVert){this.pinchTranslateDirection(false,e,t,n,r,i,s)}},pinchTranslateDirection:function(e,t,n,r,i,s,o,u){var a=this.chart,l=e?"x":"y",c=e?"X":"Y",h="chart"+c,p=e?"width":"height",d=a["plot"+(e?"Left":"Top")],v,m,g,y=u||1,b=a.inverted,w=a.bounds[e?"h":"v"],E=t.length===1,S=t[0][h],x=n[0][h],T=!E&&t[1][h],N=!E&&n[1][h],C,k,L,A=function(){if(!E&&f(S-T)>20){y=u||f(x-N)/f(S-T)}g=(d-x)/y+S;v=a["plot"+(e?"Width":"Height")]/y};A();m=g;if(m<w.min){m=w.min;C=true}else if(m+v>w.max){m=w.max-v;C=true}if(C){x-=.8*(x-o[l][0]);if(!E){N-=.8*(N-o[l][1])}A()}else{o[l]=[x,N]}if(!b){s[l]=g-d;s[p]=v}L=b?e?"scaleY":"scaleX":"scale"+c;k=b?1/y:y;i[p]=v;i[l]=m;r[L]=y;r["translate"+c]=k*d+(x-k*S)},pinch:function(e){var t=this,n=t.chart,r=t.pinchDown,i=t.followTouchMove,s=e.touches,o=s.length,f=t.lastValidTouch,l=t.hasZoom,c=t.selectionMarker,h={},p=o===1&&(t.inClass(e.target,X+"tracker")&&n.runTrackerClick||n.runChartClick),d={};if((l||i)&&!p){e.preventDefault()}sn(s,function(e){return t.normalize(e)});if(e.type==="touchstart"){tn(s,function(e,t){r[t]={chartX:e.chartX,chartY:e.chartY}});f.x=[r[0].chartX,r[1]&&r[1].chartX];f.y=[r[0].chartY,r[1]&&r[1].chartY];tn(n.axes,function(e){if(e.zoomEnabled){var t=n.bounds[e.horiz?"h":"v"],r=e.minPixelPadding,i=e.toPixels(_t(e.options.min,e.dataMin)),s=e.toPixels(_t(e.options.max,e.dataMax)),o=a(i,s),f=u(i,s);t.min=a(e.pos,o-r);t.max=u(e.pos+e.len,f+r)}})}else if(r.length){if(!c){t.selectionMarker=c=bt({destroy:B},n.plotBox)}t.pinchTranslate(r,s,h,c,d,f);t.hasPinched=l;t.scaleGroups(h,d);if(!l&&i&&o===1){this.runPointActions(t.normalize(e))}}},onContainerTouchStart:function(e){var t=this.chart;_n=t.index;if(e.touches.length===1){e=this.normalize(e);if(t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)){this.runPointActions(e);this.pinch(e)}else{this.reset()}}else if(e.touches.length===2){this.pinch(e)}},onContainerTouchMove:function(e){if(e.touches.length===1||e.touches.length===2){this.pinch(e)}},onDocumentTouchEnd:function(e){if(j[_n]){j[_n].pointer.drop(e)}}});if(n.PointerEvent||n.MSPointerEvent){var Pn={},Hn=!!n.PointerEvent,Bn=function(){var e,t=[];t.item=function(e){return this[e]};for(e in Pn){if(Pn.hasOwnProperty(e)){t.push({pageX:Pn[e].pageX,pageY:Pn[e].pageY,target:Pn[e].target})}}return t},jn=function(e,t,n,r){var i;e=e.originalEvent||e;if((e.pointerType==="touch"||e.pointerType===e.MSPOINTER_TYPE_TOUCH)&&j[_n]){r(e);i=j[_n].pointer;i[t]({type:n,target:e.currentTarget,preventDefault:B,touches:Bn()})}};bt(Dn.prototype,{onContainerPointerDown:function(e){jn(e,"onContainerTouchStart","touchstart",function(e){Pn[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){jn(e,"onContainerTouchMove","touchmove",function(e){Pn[e.pointerId]={pageX:e.pageX,pageY:e.pageY};if(!Pn[e.pointerId].target){Pn[e.pointerId].target=e.currentTarget}})},onDocumentPointerUp:function(e){jn(e,"onContainerTouchEnd","touchend",function(e){delete Pn[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,Hn?"pointerdown":"MSPointerDown",this.onContainerPointerDown);e(this.chart.container,Hn?"pointermove":"MSPointerMove",this.onContainerPointerMove);e(t,Hn?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});Ft(Dn.prototype,"init",function(e,t,n){e.call(this,t,n);if(this.hasZoom||this.followTouchMove){Dt(t.container,{"-ms-touch-action":J,"touch-action":J})}});Ft(Dn.prototype,"setDOMEvents",function(e){e.apply(this);if(this.hasZoom||this.followTouchMove){this.batchMSEvents(on)}});Ft(Dn.prototype,"destroy",function(e){this.batchMSEvents(un);e.call(this)})}var Fn=yt.Legend=function(e,t){this.init(e,t)};Fn.prototype={init:function(e,t){var n=this,r=t.itemStyle,i=_t(t.padding,8),s=t.itemMarginTop||0;this.options=t;if(!t.enabled){return}n.itemStyle=r;n.itemHiddenStyle=wt(r,t.itemHiddenStyle);n.itemMarginTop=s;n.padding=i;n.initialItemX=i;n.initialItemY=i-5;n.maxItemWidth=0;n.chart=e;n.itemHeight=0;n.lastLineHeight=0;n.symbolWidth=_t(t.symbolWidth,16);n.pages=[];n.render();on(n.chart,"endResize",function(){n.positionCheckboxes()})},colorizeItem:function(t,n){var r=this,i=r.options,s=t.legendItem,o=t.legendLine,u=t.legendSymbol,a=r.itemHiddenStyle.color,f=n?i.itemStyle.color:a,l=n?t.legendColor||t.color||"#CCC":a,c=t.options&&t.options.marker,h={fill:l},p,d;if(s){s.css({fill:f,color:f})}if(o){o.attr({stroke:l})}if(u){if(c&&u.isMarker){h.stroke=l;c=t.convertAttribs(c);for(p in c){d=c[p];if(d!==e){h[p]=d}}}u.attr(h)}},positionItem:function(e){var t=this,n=t.options,r=n.symbolPadding,i=!n.rtl,s=e._legendItemPos,o=s[0],u=s[1],a=e.checkbox;if(e.legendGroup){e.legendGroup.translate(i?o:t.legendWidth-o-2*r-4,u)}if(a){a.x=o;a.y=u}},destroyItem:function(e){var t=e.checkbox;tn(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){if(e[t]){e[t]=e[t].destroy()}});if(t){$t(e.checkbox)}},destroy:function(){var e=this,t=e.group,n=e.box;if(n){e.box=n.destroy()}if(t){e.group=t.destroy()}},positionCheckboxes:function(e){var t=this.group.alignAttr,n,r=this.clipHeight||this.legendHeight;if(t){n=t.translateY;tn(this.allItems,function(i){var s=i.checkbox,o;if(s){o=n+s.y+(e||0)+3;Dt(s,{left:t.translateX+i.checkboxOffset+s.x-20+$,top:o+$,display:o>n-6&&o<n+r-6?"":J})}})}},renderTitle:function(){var e=this.options,t=this.padding,n=e.title,r=0,i;if(n.text){if(!this.title){this.title=this.chart.renderer.label(n.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)}i=this.title.getBBox();r=i.height;this.offsetWidth=i.width;this.contentGroup.attr({translateY:r})}this.titleHeight=r},renderItem:function(e){var t=this,n=t.chart,r=n.renderer,s=t.options,o=s.layout==="horizontal",a=t.symbolWidth,f=s.symbolPadding,l=t.itemStyle,c=t.itemHiddenStyle,h=t.padding,p=o?_t(s.itemDistance,20):0,d=!s.rtl,v,m=s.width,g=s.itemMarginBottom||0,y=t.itemMarginTop,b=t.initialItemX,w,E,S=e.legendItem,x=e.series&&e.series.drawLegendSymbol?e.series:e,T=x.options,N=t.createCheckboxForItem&&T&&T.showCheckbox,C=s.useHTML;if(!S){e.legendGroup=r.g("legend-item").attr({zIndex:1}).add(t.scrollGroup);e.legendItem=S=r.text(s.labelFormat?qt(s.labelFormat,e):s.labelFormatter.call(e),d?a+f:-f,t.baseline||0,C).css(wt(e.visible?l:c)).attr({align:d?"left":"right",zIndex:2}).add(e.legendGroup);if(!t.baseline){t.baseline=r.fontMetrics(l.fontSize,S).f+3+y;S.attr("y",t.baseline)}x.drawLegendSymbol(t,e);if(t.setItemEvents){t.setItemEvents(e,S,C,l,c)}t.colorizeItem(e,e.visible);if(N){t.createCheckboxForItem(e)}}w=S.getBBox();E=e.checkboxOffset=s.itemWidth||e.legendItemWidth||a+f+w.width+p+(N?20:0);t.itemHeight=v=i(e.legendItemHeight||w.height);if(o&&t.itemX-b+E>(m||n.chartWidth-2*h-b-s.x)){t.itemX=b;t.itemY+=y+t.lastLineHeight+g;t.lastLineHeight=0}t.maxItemWidth=u(t.maxItemWidth,E);t.lastItemY=y+t.itemY+g;t.lastLineHeight=u(v,t.lastLineHeight);e._legendItemPos=[t.itemX,t.itemY];if(o){t.itemX+=E}else{t.itemY+=y+v+g;t.lastLineHeight=v}t.offsetWidth=m||u((o?t.itemX-b-p:E)+h,t.offsetWidth)},getAllItems:function(){var t=[];tn(this.chart.series,function(n){var r=n.options;if(!_t(r.showInLegend,!At(r.linkedTo)?e:false,true)){return}t=t.concat(n.legendItems||(r.legendType==="point"?n.data:n))});return t},render:function(){var e=this,t=e.chart,n=t.renderer,r=e.group,i,s,o,u,a=e.box,f=e.options,l=e.padding,c=f.borderWidth,h=f.backgroundColor;e.itemX=e.initialItemX;e.itemY=e.initialItemY;e.offsetWidth=0;e.lastItemY=0;if(!r){e.group=r=n.g("legend").attr({zIndex:7}).add();e.contentGroup=n.g().attr({zIndex:1}).add(r);e.scrollGroup=n.g().add(e.contentGroup)}e.renderTitle();i=e.getAllItems();zt(i,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)});if(f.reversed){i.reverse()}e.allItems=i;e.display=s=!!i.length;tn(i,function(t){e.renderItem(t)});o=f.width||e.offsetWidth;u=e.lastItemY+e.lastLineHeight+e.titleHeight;u=e.handleOverflow(u);if(c||h){o+=l;u+=l;if(!a){e.box=a=n.rect(0,0,o,u,f.borderRadius,c||0).attr({stroke:f.borderColor,"stroke-width":c||0,fill:h||J}).add(r).shadow(f.shadow);a.isNew=true}else if(o>0&&u>0){a[a.isNew?"attr":"animate"](a.crisp({width:o,height:u}));a.isNew=false}a[s?"show":"hide"]()}e.legendWidth=o;e.legendHeight=u;tn(i,function(t){e.positionItem(t)});if(s){r.align(bt({width:o,height:u},f),true,"spacingBox")}if(!t.isResizing){this.positionCheckboxes()}},handleOverflow:function(e){var t=this,n=this.chart,r=n.renderer,s=this.options,o=s.y,f=s.verticalAlign==="top",l=n.spacingBox.height+(f?-o:o)-this.padding,c=s.maxHeight,h,p=this.clipRect,d=s.navigation,v=_t(d.animation,true),m=d.arrowSize||12,g=this.nav,y=this.pages,b,w=this.allItems;if(s.layout==="horizontal"){l/=2}if(c){l=a(l,c)}y.length=0;if(e>l&&!s.useHTML){this.clipHeight=h=u(l-20-this.titleHeight-this.padding,0);this.currentPage=_t(this.currentPage,1);this.fullHeight=e;tn(w,function(e,t){var n=e._legendItemPos[1],r=i(e.legendItem.getBBox().height),s=y.length;if(!s||n-y[s-1]>h&&(b||n)!==y[s-1]){y.push(b||n);s++}if(t===w.length-1&&n+r-y[s-1]>h){y.push(n)}if(n!==b){b=n}});if(!p){p=t.clipRect=r.clipRect(0,this.padding,9999,0);t.contentGroup.clip(p)}p.attr({height:h});if(!g){this.nav=g=r.g().attr({zIndex:1}).add(this.group);this.up=r.symbol("triangle",0,0,m,m).on("click",function(){t.scroll(-1,v)}).add(g);this.pager=r.text("",15,10).css(d.style).add(g);this.down=r.symbol("triangle-down",0,0,m,m).on("click",function(){t.scroll(1,v)}).add(g)}t.scroll(0);e=l}else if(g){p.attr({height:n.chartHeight});g.hide();this.scrollGroup.attr({translateY:1});this.clipHeight=0}return e},scroll:function(t,n){var r=this.pages,i=r.length,s=this.currentPage+t,o=this.clipHeight,u=this.options.navigation,a=u.activeColor,f=u.inactiveColor,l=this.pager,c=this.padding,h;if(s>i){s=i}if(s>0){if(n!==e){Kt(n,this.chart)}this.nav.attr({translateX:c,translateY:o+this.padding+7+this.titleHeight,visibility:V});this.up.attr({fill:s===1?f:a}).css({cursor:s===1?"default":"pointer"});l.attr({text:s+"/"+i});this.down.attr({x:18+this.pager.getBBox().width,fill:s===i?f:a}).css({cursor:s===i?"default":"pointer"});h=-r[s-1]+this.initialItemY;this.scrollGroup.animate({translateY:h});this.currentPage=s;this.positionCheckboxes(h)}}};var In=yt.LegendSymbolMixin={drawRectangle:function(e,t){var n=e.options.symbolHeight||12;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-5-n/2,e.symbolWidth,n,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t=this.options,n=t.marker,r,s=e.options,o,u=e.symbolWidth,a=this.chart.renderer,f=this.legendGroup,l=e.baseline-i(a.fontMetrics(s.itemStyle.fontSize,this.legendItem).b*.3),c;if(t.lineWidth){c={"stroke-width":t.lineWidth};if(t.dashStyle){c.dashstyle=t.dashStyle}this.legendLine=a.path([K,0,l,Q,u,l]).attr(c).add(f)}if(n&&n.enabled!==false){r=n.radius;this.legendSymbol=o=a.symbol(this.symbol,u/2-r,l-r,2*r,2*r).add(f);o.isMarker=true}}};if(/Trident\/7\.0/.test(d)||b){Ft(Fn.prototype,"positionItem",function(e,t){var n=this,r=function(){if(t._legendItemPos){e.call(n,t)}};r();setTimeout(r)})}qn.prototype={init:function(e,t){var n,r=e.series;e.series=null;n=wt(O,e);n.series=e.series=r;this.userOptions=e;var i=n.chart;this.margin=this.splashArray("margin",i);this.spacing=this.splashArray("spacing",i);var s=i.events;this.bounds={h:{},v:{}};this.callback=t;this.isResizing=0;this.options=n;this.axes=[];this.series=[];this.hasCartesianSeries=i.showAxes;var o=this,u;o.index=j.length;j.push(o);F++;if(i.reflow!==false){on(o,"load",function(){o.initReflow()})}if(s){for(u in s){on(o,u,s[u])}}o.xAxis=[];o.yAxis=[];o.animation=T?false:_t(i.animation,true);o.pointCount=o.colorCounter=o.symbolCounter=0;o.firstRender()},initSeries:function(e){var t=this,n=t.options.chart,r=e.type||n.type||n.defaultSeriesType,i,s=gt[r];if(!s){H(17,true)}i=new s;i.init(this,e);return i},isInsidePlot:function(e,t,n){var r=n?t:e,i=n?e:t;return r>=0&&r<=this.plotWidth&&i>=0&&i<=this.plotHeight},adjustTickAmounts:function(){if(this.options.chart.alignTicks!==false){tn(this.axes,function(e){e.adjustTickAmount()})}this.maxTicks=null},redraw:function(e){var t=this,n=t.axes,r=t.series,i=t.pointer,s=t.legend,o=t.isDirtyLegend,u,a,f=t.hasCartesianSeries,l=t.isDirtyBox,c=r.length,h=c,p,d=t.renderer,v=d.isHidden(),m=[];Kt(e,t);if(v){t.cloneRenderTo()}t.layOutTitles();while(h--){p=r[h];if(p.options.stacking){u=true;if(p.isDirty){a=true;break}}}if(a){h=c;while(h--){p=r[h];if(p.options.stacking){p.isDirty=true}}}tn(r,function(e){if(e.isDirty){if(e.options.legendType==="point"){o=true}}});if(o&&s.options.enabled){s.render();t.isDirtyLegend=false}if(u){t.getStacks()}if(f){if(!t.isResizing){t.maxTicks=null;tn(n,function(e){e.setScale()})}t.adjustTickAmounts()}t.getMargins();if(f){tn(n,function(e){if(e.isDirty){l=true}});tn(n,function(e){if(e.isDirtyExtremes){e.isDirtyExtremes=false;m.push(function(){an(e,"afterSetExtremes",bt(e.eventArgs,e.getExtremes()));delete e.eventArgs})}if(l||u){e.redraw()}})}if(l){t.drawChartBox()}tn(r,function(e){if(e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)){e.redraw()}});if(i){i.reset(true)}d.draw();an(t,"redraw");if(v){t.cloneRenderTo(true)}tn(m,function(e){e.call()})},get:function(e){var t=this,n=t.axes,r=t.series;var i,s,o;for(i=0;i<n.length;i++){if(n[i].options.id===e){return n[i]}}for(i=0;i<r.length;i++){if(r[i].options.id===e){return r[i]}}for(i=0;i<r.length;i++){o=r[i].points||[];for(s=0;s<o.length;s++){if(o[s].id===e){return o[s]}}}return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis=Mt(t.xAxis||{}),r=t.yAxis=Mt(t.yAxis||{}),i,s;tn(n,function(e,t){e.index=t;e.isX=true});tn(r,function(e,t){e.index=t});i=n.concat(r);tn(i,function(t){s=new On(e,t)});e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];tn(this.series,function(t){e=e.concat(nn(t.points||[],function(e){return e.selected}))});return e},getSelectedSeries:function(){return nn(this.series,function(e){return e.selected})},getStacks:function(){var e=this;tn(e.yAxis,function(e){if(e.stacks&&e.hasVisibleSeries){e.oldStacks=e.stacks}});tn(e.series,function(t){if(t.options.stacking&&(t.visible===true||e.options.chart.ignoreHiddenSeries===false)){t.stackKey=t.type+_t(t.options.stack,"")}})},setTitle:function(e,t,n){var r=this,i=r.options,s,o;s=i.title=wt(i.title,e);o=i.subtitle=wt(i.subtitle,t);tn([["title",e,s],["subtitle",t,o]],function(e){var t=e[0],n=r[t],i=e[1],s=e[2];if(n&&i){r[t]=n=n.destroy()}if(s&&s.text&&!n){r[t]=r.renderer.text(s.text,0,0,s.useHTML).attr({align:s.align,"class":X+t,zIndex:s.zIndex||4}).css(s.style).add()}});r.layOutTitles(n)},layOutTitles:function(e){var t=0,n=this.title,r=this.subtitle,i=this.options,s=i.title,u=i.subtitle,a,f=this.renderer,l=this.spacingBox.width-44;if(n){n.css({width:(s.width||l)+$}).align(bt({y:f.fontMetrics(s.style.fontSize,n).b-3},s),false,"spacingBox");if(!s.floating&&!s.verticalAlign){t=n.getBBox().height}}if(r){r.css({width:(u.width||l)+$}).align(bt({y:t+(s.margin-13)+f.fontMetrics(s.style.fontSize,r).b},u),false,"spacingBox");if(!u.floating&&!u.verticalAlign){t=o(t+r.getBBox().height)}}a=this.titleOffset!==t;this.titleOffset=t;if(!this.isDirtyBox&&a){this.isDirtyBox=a;if(this.hasRendered&&_t(e,true)&&this.isDirtyBox){this.redraw()}}},getChartSize:function(){var e=this,t=e.options.chart,n=t.width,r=t.height,i=e.renderToClone||e.renderTo;if(!At(n)){e.containerWidth=Yt(i,"width")}if(!At(r)){e.containerHeight=Yt(i,"height")}e.chartWidth=u(0,n||e.containerWidth||600);e.chartHeight=u(0,_t(r,e.containerHeight>19?e.containerHeight:400))},cloneRenderTo:function(e){var n=this.renderToClone,r=this.container;if(e){if(n){this.renderTo.appendChild(r);$t(n);delete this.renderToClone}}else{if(r&&r.parentNode===this.renderTo){this.renderTo.removeChild(r)}this.renderToClone=n=this.renderTo.cloneNode(0);Dt(n,{position:U,top:"-9999px",display:"block"});if(n.style.setProperty){n.style.setProperty("display","block","important")}t.body.appendChild(n);if(r){n.appendChild(r)}}},getContainer:function(){var e=this,n,r=e.options.chart,i,s,o,u="data-highcharts-chart",a,f;e.renderTo=o=r.renderTo;f=X+L++;if(St(o)){e.renderTo=o=t.getElementById(o)}if(!o){H(13,true)}a=Et(Ot(o,u));if(!isNaN(a)&&j[a]&&j[a].hasRendered){j[a].destroy()}Ot(o,u,e.index);o.innerHTML="";if(!r.skipClone&&!o.offsetWidth){e.cloneRenderTo()}e.getChartSize();i=e.chartWidth;s=e.chartHeight;e.container=n=Pt(R,{className:X+"container"+(r.className?" "+r.className:""),id:f},bt({position:z,overflow:W,width:i+$,height:s+$,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},r.style),e.renderToClone||o);e._cursor=n.style.cursor;e.renderer=r.forExport?new xn(n,i,s,r.style,true):new N(n,i,s,r.style);if(T){e.renderer.create(e,n,i,s)}},getMargins:function(){var e=this,t=e.spacing,n,r=e.legend,i=e.margin,s=e.options.legend,o=_t(s.margin,20),a=s.x,f=s.y,l=s.align,c=s.verticalAlign,h=e.titleOffset;e.resetMargins();n=e.axisOffset;if(h&&!At(i[0])){e.plotTop=u(e.plotTop,h+e.options.title.margin+t[0])}if(r.display&&!s.floating){if(l==="right"){if(!At(i[1])){e.marginRight=u(e.marginRight,r.legendWidth-a+o+t[1])}}else if(l==="left"){if(!At(i[3])){e.plotLeft=u(e.plotLeft,r.legendWidth+a+o+t[3])}}else if(c==="top"){if(!At(i[0])){e.plotTop=u(e.plotTop,r.legendHeight+f+o+t[0])}}else if(c==="bottom"){if(!At(i[2])){e.marginBottom=u(e.marginBottom,r.legendHeight-f+o+t[2])}}}if(e.extraBottomMargin){e.marginBottom+=e.extraBottomMargin}if(e.extraTopMargin){e.plotTop+=e.extraTopMargin}if(e.hasCartesianSeries){tn(e.axes,function(e){e.getOffset()})}if(!At(i[3])){e.plotLeft+=n[3]}if(!At(i[0])){e.plotTop+=n[0]}if(!At(i[2])){e.marginBottom+=n[2]}if(!At(i[1])){e.marginRight+=n[1]}e.setChartSize()},reflow:function(e){var r=this,i=r.options.chart,s=r.renderTo,o=i.width||Yt(s,"width"),u=i.height||Yt(s,"height"),a=e?e.target:n,f=function(){if(r.container){r.setSize(o,u,false);r.hasUserSize=null}};if(!r.hasUserSize&&o&&u&&(a===n||a===t)){if(o!==r.containerWidth||u!==r.containerHeight){clearTimeout(r.reflowTimeout);if(e){r.reflowTimeout=setTimeout(f,100)}else{f()}}r.containerWidth=o;r.containerHeight=u}},initReflow:function(){var e=this,t=function(t){e.reflow(t)};on(n,"resize",t);on(e,"destroy",function(){un(n,"resize",t)})},setSize:function(e,t,n){var r=this,s,o,a;r.isResizing+=1;a=function(){if(r){an(r,"endResize",null,function(){r.isResizing-=1})}};Kt(n,r);r.oldChartHeight=r.chartHeight;r.oldChartWidth=r.chartWidth;if(At(e)){r.chartWidth=s=u(0,i(e));r.hasUserSize=!!s}if(At(t)){r.chartHeight=o=u(0,i(t))}(_?ln:Dt)(r.container,{width:s+$,height:o+$},_);r.setChartSize(true);r.renderer.setSize(s,o,n);r.maxTicks=null;tn(r.axes,function(e){e.isDirty=true;e.setScale()});tn(r.series,function(e){e.isDirty=true});r.isDirtyLegend=true;r.isDirtyBox=true;r.layOutTitles();r.getMargins();r.redraw(n);r.oldChartHeight=null;an(r,"resize");if(_===false){a()}else{setTimeout(a,_&&_.duration||500)}},setChartSize:function(e){var t=this,n=t.inverted,r=t.renderer,a=t.chartWidth,f=t.chartHeight,l=t.options.chart,c=t.spacing,h=t.clipOffset,p,d,v,m,g,y,b;t.plotLeft=v=i(t.plotLeft);t.plotTop=m=i(t.plotTop);t.plotWidth=g=u(0,i(a-v-t.marginRight));t.plotHeight=y=u(0,i(f-m-t.marginBottom));t.plotSizeX=n?y:g;t.plotSizeY=n?g:y;t.plotBorderWidth=l.plotBorderWidth||0;t.spacingBox=r.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:f-c[0]-c[2]};t.plotBox=r.plotBox={x:v,y:m,width:g,height:y};b=2*s(t.plotBorderWidth/2);p=o(u(b,h[3])/2);d=o(u(b,h[0])/2);t.clipBox={x:p,y:d,width:s(t.plotSizeX-u(b,h[1])/2-p),height:u(0,s(t.plotSizeY-u(b,h[2])/2-d))};if(!e){tn(t.axes,function(e){e.setAxisSize();e.setAxisTranslation()})}},resetMargins:function(){var e=this,t=e.spacing,n=e.margin;e.plotTop=_t(n[0],t[0]);e.marginRight=_t(n[1],t[1]);e.marginBottom=_t(n[2],t[2]);e.plotLeft=_t(n[3],t[3]);e.axisOffset=[0,0,0,0];e.clipOffset=[0,0,0,0]},drawChartBox:function(){var e=this,t=e.options.chart,n=e.renderer,r=e.chartWidth,i=e.chartHeight,s=e.chartBackground,o=e.plotBackground,u=e.plotBorder,a=e.plotBGImage,f=t.borderWidth||0,l=t.backgroundColor,c=t.plotBackgroundColor,h=t.plotBackgroundImage,p=t.plotBorderWidth||0,d,v,m=e.plotLeft,g=e.plotTop,y=e.plotWidth,b=e.plotHeight,w=e.plotBox,E=e.clipRect,S=e.clipBox;d=f+(t.shadow?8:0);if(f||l){if(!s){v={fill:l||J};if(f){v.stroke=t.borderColor;v["stroke-width"]=f}e.chartBackground=n.rect(d/2,d/2,r-d,i-d,t.borderRadius,f).attr(v).addClass(X+"background").add().shadow(t.shadow)}else{s.animate(s.crisp({width:r-d,height:i-d}))}}if(c){if(!o){e.plotBackground=n.rect(m,g,y,b,0).attr({fill:c}).add().shadow(t.plotShadow)}else{o.animate(w)}}if(h){if(!a){e.plotBGImage=n.image(h,m,g,y,b).add()}else{a.animate(w)}}if(!E){e.clipRect=n.clipRect(S)}else{E.animate({width:S.width,height:S.height})}if(p){if(!u){e.plotBorder=n.rect(m,g,y,b,0,-p).attr({stroke:t.plotBorderColor,"stroke-width":p,fill:J,zIndex:1}).add()}else{u.animate(u.crisp({x:m,y:g,width:y,height:b,strokeWidth:-p}))}}e.isDirtyBox=false},propFromSeries:function(){var e=this,t=e.options.chart,n,r=e.options.series,i,s;tn(["inverted","angular","polar"],function(o){n=gt[t.type||t.defaultSeriesType];s=e[o]||t[o]||n&&n.prototype[o];i=r&&r.length;while(!s&&i--){n=gt[r[i].type];if(n&&n.prototype[o]){s=true}}e[o]=s})},linkSeries:function(){var e=this,t=e.series;tn(t,function(e){e.linkedSeries.length=0});tn(t,function(t){var n=t.options.linkedTo;if(St(n)){if(n===":previous"){n=e.series[t.index-1]}else{n=e.get(n)}if(n){n.linkedSeries.push(t);t.linkedParent=n}}})},renderSeries:function(){tn(this.series,function(e){e.translate();if(e.setTooltipPoints){e.setTooltipPoints()}e.render()})},renderLabels:function(){var e=this,t=e.options.labels;if(t.items){tn(t.items,function(n){var r=bt(t.style,n.style),i=Et(r.left)+e.plotLeft,s=Et(r.top)+e.plotTop+12;delete r.left;delete r.top;e.renderer.text(n.html,i,s).attr({zIndex:2}).css(r).add()})}},render:function(){var e=this,t=e.axes,n=e.renderer,r=e.options;e.setTitle();e.legend=new Fn(e,r.legend);e.getStacks();tn(t,function(e){e.setScale()});e.getMargins();e.maxTicks=null;tn(t,function(e){e.setTickPositions(true);e.setMaxTicks()});e.adjustTickAmounts();e.getMargins();e.drawChartBox();if(e.hasCartesianSeries){tn(t,function(e){e.render()})}if(!e.seriesGroup){e.seriesGroup=n.g("series-group").attr({zIndex:3}).add()}e.renderSeries();e.renderLabels();e.showCredits(r.credits);e.hasRendered=true},showCredits:function(e){if(e.enabled&&!this.credits){this.credits=this.renderer.text(e.text,0,0).on("click",function(){if(e.href){location.href=e.href}}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position)}},destroy:function(){var t=this,n=t.axes,r=t.series,i=t.container,s,o=i&&i.parentNode;an(t,"destroy");j[t.index]=e;F--;t.renderTo.removeAttribute("data-highcharts-chart");un(t);s=n.length;while(s--){n[s]=n[s].destroy()}s=r.length;while(s--){r[s]=r[s].destroy()}tn(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(e){var n=t[e];if(n&&n.destroy){t[e]=n.destroy()}});if(i){i.innerHTML="";un(i);if(o){$t(i)}}for(s in t){delete t[s]}},isReadyToRender:function(){var e=this;if(!S&&n==n.top&&t.readyState!=="complete"||T&&!n.canvg){if(T){Ln.push(function(){e.firstRender()},e.options.global.canvasToolsURL)}else{t.attachEvent("onreadystatechange",function(){t.detachEvent("onreadystatechange",e.firstRender);if(t.readyState==="complete"){e.firstRender()}})}return false}return true},firstRender:function(){var e=this,t=e.options,n=e.callback;if(!e.isReadyToRender()){return}e.getContainer();an(e,"init");e.resetMargins();e.setChartSize();e.propFromSeries();e.getAxes();tn(t.series||[],function(t){e.initSeries(t)});e.linkSeries();an(e,"beforeRender");if(yt.Pointer){e.pointer=new Dn(e,t)}e.render();e.renderer.draw();if(n){n.apply(e,[e])}tn(e.callbacks,function(t){t.apply(e,[e])});e.cloneRenderTo(true);an(e,"load")},splashArray:function(e,t){var n=t[e],r=xt(n)?n:[n,n,n,n];return[_t(t[e+"Top"],r[0]),_t(t[e+"Right"],r[1]),_t(t[e+"Bottom"],r[2]),_t(t[e+"Left"],r[3])]}};qn.prototype.callbacks=[];var Rn=yt.CenteredSeriesMixin={getCenter:function(){var e=this.options,t=this.chart,n=2*(e.slicedOffset||0),r,i=t.plotWidth-2*n,s=t.plotHeight-2*n,o=e.center,u=[_t(o[0],"50%"),_t(o[1],"50%"),e.size||"100%",e.innerSize||0],f=a(i,s),l;return sn(u,function(e,t){l=/%$/.test(e);r=t<2||t===2&&l;return(l?[i,s,f,f][t]*Et(e)/100:e)+(r?n:0)})}};var Un=function(){};Un.prototype={init:function(e,t,n){var r=this,i;r.series=e;r.applyOptions(t,n);r.pointAttr={};if(e.options.colorByPoint){i=e.options.colors||e.chart.options.colors;r.color=r.color||i[e.colorCounter++];if(e.colorCounter===i.length){e.colorCounter=0}}e.chart.pointCount++;return r},applyOptions:function(t,n){var r=this,i=r.series,s=i.options.pointValKey||i.pointValKey;t=Un.prototype.optionsToObject.call(this,t);bt(r,t);r.options=r.options?bt(r.options,t):t;if(s){r.y=r[s]}if(r.x===e&&i){r.x=n===e?i.autoIncrement():n}return r},optionsToObject:function(e){var t={},n=this.series,r=n.pointArrayMap||["y"],i=r.length,s,o=0,u=0;if(typeof e==="number"||e===null){t[r[0]]=e}else if(Tt(e)){if(e.length>i){s=typeof e[0];if(s==="string"){t.name=e[0]}else if(s==="number"){t.x=e[0]}o++}while(u<i){t[r[u++]]=e[o++]}}else if(typeof e==="object"){t=e;if(e.dataLabels){n._hasPointLabels=true}if(e.marker){n._hasPointMarkers=true}}return t},destroy:function(){var e=this,t=e.series,n=t.chart,r=n.hoverPoints,i;n.pointCount--;if(r){e.setState();Lt(r,e);if(!r.length){n.hoverPoints=null}}if(e===n.hoverPoint){e.onMouseOut()}if(e.graphic||e.dataLabel){un(e);e.destroyElements()}if(e.legendItem){n.legend.destroyItem(e)}for(i in e){e[i]=null}},destroyElements:function(){var e=this,t=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],n,r=6;while(r--){n=t[r];if(e[n]){e[n]=e[n].destroy()}}},getLabelConfig:function(){var e=this;return{x:e.category,y:e.y,key:e.name||e.category,series:e.series,point:e,percentage:e.percentage,total:e.total||e.stackTotal}},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,r=_t(n.valueDecimals,""),i=n.valuePrefix||"",s=n.valueSuffix||"";tn(t.pointArrayMap||["y"],function(t){t="{point."+t;if(i||s){e=e.replace(t+"}",i+t+"}"+s)}e=e.replace(t+"}",t+":,."+r+"f}")});return qt(e,{point:this,series:this.series})},firePointEvent:function(e,t,n){var r=this,i=this.series,s=i.options;if(s.point.events[e]||r.options&&r.options.events&&r.options.events[e]){this.importEvents()}if(e==="click"&&s.allowPointSelect){n=function(e){r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}}an(this,e,t,n)}};var zn=function(){};zn.prototype={isCartesian:true,type:"line",pointClass:Un,sorted:true,requireSorting:true,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,t){var n=this,r,i,s=e.series,o=function(e,t){return _t(e.options.index,e._i)-_t(t.options.index,t._i)};n.chart=e;n.options=t=n.setOptions(t);n.linkedSeries=[];n.bindAxes();bt(n,{name:t.name,state:Y,pointAttr:{},visible:t.visible!==false,selected:t.selected===true});if(T){t.animation=false}i=t.events;for(r in i){on(n,r,i[r])}if(i&&i.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect){e.runTrackerClick=true}n.getColor();n.getSymbol();tn(n.parallelArrays,function(e){n[e+"Data"]=[]});n.setData(t.data,false);if(n.isCartesian){e.hasCartesianSeries=true}s.push(n);n._i=s.length-1;zt(s,o);if(this.yAxis){zt(this.yAxis.series,o)}tn(s,function(e,t){e.index=t;e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var t=this,n=t.options,r=t.chart,i;tn(t.axisTypes||[],function(s){tn(r[s],function(r){i=r.options;if(n[s]===i.index||n[s]!==e&&n[s]===i.id||n[s]===e&&i.index===0){r.series.push(t);t[s]=r;r.isDirty=true}});if(!t[s]&&t.optionalAxis!==s){H(18,true)}})},updateParallelArrays:function(e,t){var n=e.series,r=arguments,i=typeof t==="number"?function(r){var i=r==="y"&&n.toYData?n.toYData(e):e[r];n[r+"Data"][t]=i}:function(e){Array.prototype[t].apply(n[e+"Data"],Array.prototype.slice.call(r,2))};tn(n.parallelArrays,i)},autoIncrement:function(){var e=this,t=e.options,n=e.xIncrement;n=_t(n,t.pointStart,0);e.pointInterval=_t(e.pointInterval,t.pointInterval,1);e.xIncrement=n+e.pointInterval;return n},getSegments:function(){var e=this,t=-1,n=[],r,i=e.points,s=i.length;if(s){if(e.options.connectNulls){r=s;while(r--){if(i[r].y===null){i.splice(r,1)}}if(i.length){n=[i]}}else{tn(i,function(e,r){if(e.y===null){if(r>t+1){n.push(i.slice(t+1,r))}t=r}else if(r===s-1){n.push(i.slice(t+1,r+1))}})}}e.segments=n},setOptions:function(e){var t=this.chart,n=t.options,r=n.plotOptions,i=t.userOptions||{},s=i.plotOptions||{},o=r[this.type],u;this.userOptions=e;u=wt(o,r.series,e);this.tooltipOptions=wt(O.tooltip,O.plotOptions[this.type].tooltip,i.tooltip,s.series&&s.series.tooltip,s[this.type]&&s[this.type].tooltip,e.tooltip);if(o.marker===null){delete u.marker}return u},getCyclic:function(e,t,n){var r,i=this.userOptions,s="_"+e+"Index",o=e+"Counter";if(!t){if(At(i[s])){r=i[s]}else{i[s]=r=this.chart[o]%n.length;this.chart[o]+=1}t=n[r]}this[e]=t},getColor:function(){if(!this.options.colorByPoint){this.getCyclic("color",this.options.color||pn[this.type].color,this.chart.options.colors)}},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols);if(/^url/.test(this.symbol)){e.radius=0}},drawLegendSymbol:In.drawLineMarker,setData:function(t,n,r,i){var s=this,o=s.points,u=o&&o.length||0,a,f=s.options,l=s.chart,c=null,h=s.xAxis,p=h&&!!h.categories,d=s.tooltipPoints,v,m=f.turboThreshold,g,y=this.xData,b=this.yData,w=s.pointArrayMap,E=w&&w.length;t=t||[];a=t.length;n=_t(n,true);if(i!==false&&a&&u===a&&!s.cropped&&!s.hasGroupedData){tn(t,function(e,t){o[t].update(e,false)})}else{s.xIncrement=null;s.pointRange=p?1:f.pointRange;s.colorCounter=0;tn(this.parallelArrays,function(e){s[e+"Data"].length=0});if(m&&a>m){v=0;while(c===null&&v<a){c=t[v];v++}if(Nt(c)){var S=_t(f.pointStart,0),x=_t(f.pointInterval,1);for(v=0;v<a;v++){y[v]=S;b[v]=t[v];S+=x}s.xIncrement=S}else if(Tt(c)){if(E){for(v=0;v<a;v++){g=t[v];y[v]=g[0];b[v]=g.slice(1,E+1)}}else{for(v=0;v<a;v++){g=t[v];y[v]=g[0];b[v]=g[1]}}}else{H(12)}}else{for(v=0;v<a;v++){if(t[v]!==e){g={series:s};s.pointClass.prototype.applyOptions.apply(g,[t[v]]);s.updateParallelArrays(g,v);if(p&&g.name){h.names[g.x]=g.name}}}}if(St(b[0])){H(14,true)}s.data=[];s.options.data=t;v=u;while(v--){if(o[v]&&o[v].destroy){o[v].destroy()}}if(d){d.length=0}if(h){h.minRange=h.userMinRange}s.isDirty=s.isDirtyData=l.isDirtyBox=true;r=false}if(n){l.redraw(r)}},processData:function(t){var n=this,r=n.xData,i=n.yData,s=r.length,o,u=0,a,f,l,c=n.xAxis,h,p=n.options,d=p.cropThreshold,v=0,m=n.isCartesian,g,y,b;if(m&&!n.isDirty&&!c.isDirty&&!n.yAxis.isDirty&&!t){return false}if(m&&n.sorted&&(!d||s>d||n.forceCrop)){g=c.getExtremes();y=g.min;b=g.max;if(r[s-1]<y||r[0]>b){r=[];i=[]}else if(r[0]<y||r[s-1]>b){o=this.cropData(n.xData,n.yData,y,b);r=o.xData;i=o.yData;u=o.start;a=true;v=r.length}}for(h=r.length-1;h>=0;h--){f=r[h]-r[h-1];if(!a&&r[h]>y&&r[h]<b){v++}if(f>0&&(l===e||f<l)){l=f}else if(f<0&&n.requireSorting){H(15)}}n.cropped=a;n.cropStart=u;n.processedXData=r;n.processedYData=i;n.activePointCount=v;if(p.pointRange===null){n.pointRange=l||1}n.closestPointRange=l},cropData:function(e,t,n,r){var i=e.length,s=0,o=i,a=_t(this.cropShoulder,1),f;for(f=0;f<i;f++){if(e[f]>=n){s=u(0,f-a);break}}for(;f<i;f++){if(e[f]>r){o=f+a;break}}return{xData:e.slice(s,o),yData:t.slice(s,o),start:s,end:o}},generatePoints:function(){var t=this,n=t.options,r=n.data,i=t.data,s,o=t.processedXData,u=t.processedYData,a=t.pointClass,f=o.length,l=t.cropStart||0,c,h=t.hasGroupedData,p,d=[],v;if(!i&&!h){var m=[];m.length=r.length;i=t.data=m}for(v=0;v<f;v++){c=l+v;if(!h){if(i[c]){p=i[c]}else if(r[c]!==e){i[c]=p=(new a).init(t,r[c],o[v])}d[v]=p}else{d[v]=(new a).init(t,[o[v]].concat(Mt(u[v])))}}if(i&&(f!==(s=i.length)||h)){for(v=0;v<s;v++){if(v===l&&!h){v+=f}if(i[v]){i[v].destroyElements();i[v].plotX=e}}}t.data=i;t.points=d},getExtremes:function(t){var n=this.xAxis,r=this.yAxis,i=this.processedXData,s,o=[],u=0,a=n.getExtremes(),f=a.min,l=a.max,c,h,p,d,v,m,g,y;t=t||this.stackedYData||this.processedYData;s=t.length;for(g=0;g<s;g++){v=i[g];m=t[g];c=m!==null&&m!==e&&(!r.isLog||m.length||m>0);h=this.getExtremesFromAll||this.cropped||(i[g+1]||v)>=f&&(i[g-1]||v)<=l;if(c&&h){y=m.length;if(y){while(y--){if(m[y]!==null){o[u++]=m[y]}}}else{o[u++]=m}}}this.dataMin=_t(p,Wt(o));this.dataMax=_t(d,Xt(o))},translate:function(){if(!this.processedXData){this.processData()}this.generatePoints();var t=this,n=t.options,r=n.stacking,i=t.xAxis,s=i.categories,o=t.yAxis,u=t.points,a=u.length,f=!!t.modifyValue,l,c=n.pointPlacement,h=c==="between"||Nt(c),p=n.threshold;for(l=0;l<a;l++){var d=u[l],v=d.x,m=d.y,g=d.low,y=r&&o.stacks[(t.negStacks&&m<p?"-":"")+t.stackKey],b,w;if(o.isLog&&m<=0){d.y=m=null}d.plotX=i.translate(v,0,0,0,1,c,this.type==="flags");if(r&&t.visible&&y&&y[v]){b=y[v];w=b.points[t.index+","+l];g=w[0];m=w[1];if(g===0){g=_t(p,o.min)}if(o.isLog&&g<=0){g=null}d.total=d.stackTotal=b.total;d.percentage=b.total&&d.y/b.total*100;d.stackY=m;b.setOffset(t.pointXOffset||0,t.barW||0)}d.yBottom=At(g)?o.translate(g,0,1,0,1):null;if(f){m=t.modifyValue(m,d)}d.plotY=typeof m==="number"&&m!==Infinity?o.translate(m,0,1,0,1):e;d.clientX=h?i.translate(v,0,0,0,1):d.plotX;d.negative=d.y<(p||0);d.category=s&&s[d.x]!==e?s[d.x]:d.x}t.getSegments()},animate:function(e){var t=this,n=t.chart,r=n.renderer,i,s,o=t.options.animation,u=t.clipBox||n.clipBox,a=n.inverted,f;if(o&&!xt(o)){o=pn[t.type].animation}f=["_sharedClip",o.duration,o.easing,u.height].join(",");if(e){i=n[f];s=n[f+"m"];if(!i){n[f]=i=r.clipRect(bt(u,{width:0}));n[f+"m"]=s=r.clipRect(-99,a?-n.plotLeft:-n.plotTop,99,a?n.chartWidth:n.chartHeight)}t.group.clip(i);t.markerGroup.clip(s);t.sharedClipKey=f}else{i=n[f];if(i){i.animate({width:n.plotSizeX},o)}if(n[f+"m"]){n[f+"m"].animate({width:n.plotSizeX+99},o)}t.animate=null}},afterAnimate:function(){var e=this.chart,t=this.sharedClipKey,n=this.group,r=this.clipBox;if(n&&this.options.clip!==false){if(!t||!r){n.clip(r?e.renderer.clipRect(r):e.clipRect)}this.markerGroup.clip()}an(this,"afterAnimate");setTimeout(function(){if(t&&e[t]){if(!r){e[t]=e[t].destroy()}if(e[t+"m"]){e[t+"m"]=e[t+"m"].destroy()}}},100)},drawPoints:function(){var t=this,n,r=t.points,o=t.chart,u,a,f,l,c,h,p,d,v=t.options,m=v.marker,g=t.pointAttr[""],y,b,w,E=t.markerGroup,S=_t(m.enabled,t.activePointCount<.5*t.xAxis.len/m.radius);if(m.enabled!==false||t._hasPointMarkers){f=r.length;while(f--){l=r[f];u=s(l.plotX);a=l.plotY;d=l.graphic;y=l.marker||{};b=S&&y.enabled===e||y.enabled;w=o.isInsidePlot(i(u),a,o.inverted);if(b&&a!==e&&!isNaN(a)&&l.y!==null){n=l.pointAttr[l.selected?et:Y]||g;c=n.r;h=_t(y.symbol,t.symbol);p=h.indexOf("url")===0;if(d){d[w?"show":"hide"](true).animate(bt({x:u-c,y:a-c},d.symbolName?{width:2*c,height:2*c}:{}))}else if(w&&(c>0||p)){l.graphic=d=o.renderer.symbol(h,u-c,a-c,2*c,2*c).attr(n).add(E)}}else if(d){l.graphic=d.destroy()}}}},convertAttribs:function(e,t,n,r){var i=this.pointAttrToOptions,s,o,u={};e=e||{};t=t||{};n=n||{};r=r||{};for(s in i){o=i[s];u[s]=_t(e[o],t[s],n[s],r[s])}return u},getAttribs:function(){var e=this,t=e.options,n=pn[e.type].marker?t.marker:t,r=n.states,i=r[Z],s,o=e.color,u={stroke:o,fill:o},a=e.points||[],f,l,c=[],h,p=e.pointAttrToOptions,d=e.hasPointSpecificOptions,v=t.negativeColor,m=n.lineColor,g=n.fillColor,y=t.turboThreshold,b,w;if(t.marker){i.radius=i.radius||n.radius+i.radiusPlus;i.lineWidth=i.lineWidth||n.lineWidth+i.lineWidthPlus}else{i.color=i.color||En(i.color||o).brighten(i.brightness).get()}c[Y]=e.convertAttribs(n,u);tn([Z,et],function(t){c[t]=e.convertAttribs(r[t],c[Y])});e.pointAttr=c;f=a.length;if(!y||f<y||d){while(f--){l=a[f];n=l.options&&l.options.marker||l.options;if(n&&n.enabled===false){n.radius=0}if(l.negative&&v){l.color=l.fillColor=v}d=t.colorByPoint||l.color;if(l.options){for(w in p){if(At(n[p[w]])){d=true}}}if(d){n=n||{};h=[];r=n.states||{};s=r[Z]=r[Z]||{};if(!t.marker){s.color=s.color||!l.options.color&&i.color||En(l.color).brighten(s.brightness||i.brightness).get()}b={color:l.color};if(!g){b.fillColor=l.color}if(!m){b.lineColor=l.color}h[Y]=e.convertAttribs(bt(b,n),c[Y]);h[Z]=e.convertAttribs(r[Z],c[Z],h[Y]);h[et]=e.convertAttribs(r[et],c[et],h[Y])}else{h=c}l.pointAttr=h}}},destroy:function(){var e=this,t=e.chart,n=/AppleWebKit\/533/.test(d),r,i,s=e.data||[],o,u,a;an(e,"destroy");un(e);tn(e.axisTypes||[],function(t){a=e[t];if(a){Lt(a.series,e);a.isDirty=a.forceRedraw=true}});if(e.legendItem){e.chart.legend.destroyItem(e)}i=s.length;while(i--){o=s[i];if(o&&o.destroy){o.destroy()}}e.points=null;clearTimeout(e.animationTimeout);tn(["area","graph","dataLabelsGroup","group","markerGroup","tracker","graphNeg","areaNeg","posClip","negClip"],function(t){if(e[t]){r=n&&t==="group"?"hide":"destroy";e[t][r]()}});if(t.hoverSeries===e){t.hoverSeries=null}Lt(t.series,e);for(u in e){delete e[u]}},getSegmentPath:function(e){var t=this,n=[],r=t.options.step;tn(e,function(i,s){var o=i.plotX,u=i.plotY,a;if(t.getPointSpline){n.push.apply(n,t.getPointSpline(e,i,s))}else{n.push(s?Q:K);if(r&&s){a=e[s-1];if(r==="right"){n.push(a.plotX,u)}else if(r==="center"){n.push((a.plotX+o)/2,a.plotY,(a.plotX+o)/2,u)}else{n.push(o,a.plotY)}}n.push(i.plotX,i.plotY)}});return n},getGraphPath:function(){var e=this,t=[],n,r=[];tn(e.segments,function(i){n=e.getSegmentPath(i);if(i.length>1){t=t.concat(n)}else{r.push(i[0])}});e.singlePoints=r;e.graphPath=t;return t},drawGraph:function(){var e=this,t=this.options,n=[["graph",t.lineColor||this.color]],r=t.lineWidth,i=t.dashStyle,s=t.linecap!=="square",o=this.getGraphPath(),u=t.negativeColor;if(u){n.push(["graphNeg",u])}tn(n,function(n,u){var a=n[0],f=e[a],l;if(f){cn(f);f.animate({d:o})}else if(r&&o.length){l={stroke:n[1],"stroke-width":r,fill:J,zIndex:1};if(i){l.dashstyle=i}else if(s){l["stroke-linecap"]=l["stroke-linejoin"]="round"}e[a]=e.chart.renderer.path(o).attr(l).add(e.group).shadow(!u&&t.shadow)}})},clipNeg:function(){var e=this.options,t=this.chart,n=t.renderer,r=e.negativeColor||e.negativeFillColor,s,o,a,f=this.graph,l=this.area,c=this.posClip,h=this.negClip,p=t.chartWidth,d=t.chartHeight,v=u(p,d),m=this.yAxis,g,y;if(r&&(f||l)){s=i(m.toPixels(e.threshold||0,true));if(s<0){v-=s}g={x:0,y:0,width:v,height:s};y={x:0,y:s,width:v,height:v};if(t.inverted){g.height=y.y=t.plotWidth-s;if(n.isVML){g={x:t.plotWidth-s-t.plotLeft,y:0,width:p,height:d};y={x:s+t.plotLeft-p,y:0,width:t.plotLeft+s,height:p}}}if(m.reversed){o=y;a=g}else{o=g;a=y}if(c){c.animate(o);h.animate(a)}else{this.posClip=c=n.clipRect(o);this.negClip=h=n.clipRect(a);if(f&&this.graphNeg){f.clip(c);this.graphNeg.clip(h)}if(l){l.clip(c);this.areaNeg.clip(h)}}}},invertGroups:function(){function n(){var t={width:e.yAxis.len,height:e.xAxis.len};tn(["group","markerGroup"],function(n){if(e[n]){e[n].attr(t).invert()}})}var e=this,t=e.chart;if(!e.xAxis){return}on(t,"resize",n);on(e,"destroy",function(){un(t,"resize",n)});n();e.invertGroups=n},plotGroup:function(e,t,n,r,i){var s=this[e],o=!s;if(o){this[e]=s=this.chart.renderer.g(t).attr({visibility:n,zIndex:r||.1}).add(i)}s[o?"attr":"animate"](this.getPlotBox());return s},getPlotBox:function(){var e=this.chart,t=this.xAxis,n=this.yAxis;if(e.inverted){t=n;n=this.xAxis}return{translateX:t?t.left:e.plotLeft,translateY:n?n.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e=this,t=e.chart,n,r=e.options,i=r.animation,s=i&&!!e.animate&&t.renderer.isSVG&&_t(i.duration,500)||0,o=e.visible?V:W,u=r.zIndex,a=e.hasRendered,f=t.seriesGroup;n=e.plotGroup("group","series",o,u,f);e.markerGroup=e.plotGroup("markerGroup","markers",o,u,f);if(s){e.animate(true)}e.getAttribs();n.inverted=e.isCartesian?t.inverted:false;if(e.drawGraph){e.drawGraph();e.clipNeg()}if(e.drawDataLabels){e.drawDataLabels()}if(e.visible){e.drawPoints()}if(e.drawTracker&&e.options.enableMouseTracking!==false){e.drawTracker()}if(t.inverted){e.invertGroups()}if(r.clip!==false&&!e.sharedClipKey&&!a){n.clip(t.clipRect)}if(s){e.animate()}if(!a){if(s){e.animationTimeout=setTimeout(function(){e.afterAnimate()},s)}else{e.afterAnimate()}}e.isDirty=e.isDirtyData=false;e.hasRendered=true},redraw:function(){var e=this,t=e.chart,n=e.isDirtyData,r=e.group,i=e.xAxis,s=e.yAxis;if(r){if(t.inverted){r.attr({width:t.plotWidth,height:t.plotHeight})}r.animate({translateX:_t(i&&i.left,t.plotLeft),translateY:_t(s&&s.top,t.plotTop)})}e.translate();if(e.setTooltipPoints){e.setTooltipPoints(true)}e.render();if(n){an(e,"updatedData")}}};Wn.prototype={destroy:function(){Vt(this,this.axis)},render:function(e){var t=this.options,n=t.format,r=n?qt(n,this):t.formatter.call(this);if(this.label){this.label.attr({text:r,visibility:W})}else{this.label=this.axis.chart.renderer.text(r,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:W}).add(e)}},setOffset:function(e,t){var n=this,r=n.axis,i=r.chart,s=i.inverted,o=this.isNegative,u=r.translate(r.usePercentage?100:this.total,0,0,0,1),a=r.translate(0),l=f(u-a),c=i.xAxis[0].translate(this.x)+e,h=i.plotHeight,p={x:s?o?u:u-l:c,y:s?h-c-t:o?h-u-l:h-u,width:s?l:t,height:s?t:l},d=this.label,v;if(d){d.align(this.alignOptions,null,p);v=d.alignAttr;d[this.options.crop===false||i.isInsidePlot(v.x,v.y)?"show":"hide"](true)}}};On.prototype.buildStacks=function(){var e=this.series,t=_t(this.options.reversedStacks,true),n=e.length;if(!this.isXAxis){this.usePercentage=false;while(n--){e[t?n:e.length-n-1].setStackedPoints()}if(this.usePercentage){for(n=0;n<e.length;n++){e[n].setPercentStacks()}}}};On.prototype.renderStackTotals=function(){var e=this,t=e.chart,n=t.renderer,r=e.stacks,i,s,o,u=e.stackTotalGroup;if(!u){e.stackTotalGroup=u=n.g("stack-labels").attr({visibility:V,zIndex:6}).add()}u.translate(t.plotLeft,t.plotTop);for(i in r){s=r[i];for(o in s){s[o].render(u)}}};zn.prototype.setStackedPoints=function(){if(!this.options.stacking||this.visible!==true&&this.chart.options.chart.ignoreHiddenSeries!==false){return}var e=this,t=e.processedXData,n=e.processedYData,r=[],i=n.length,s=e.options,o=s.threshold,a=s.stack,l=s.stacking,c=e.stackKey,h="-"+c,p=e.negStacks,d=e.yAxis,v=d.stacks,m=d.oldStacks,g,y,b,w,E,S,x,T;for(S=0;S<i;S++){x=t[S];T=n[S];E=e.index+","+S;g=p&&T<o;w=g?h:c;if(!v[w]){v[w]={}}if(!v[w][x]){if(m[w]&&m[w][x]){v[w][x]=m[w][x];v[w][x].total=null}else{v[w][x]=new Wn(d,d.options.stackLabels,g,x,a)}}y=v[w][x];y.points[E]=[y.cum||0];if(l==="percent"){b=g?c:h;if(p&&v[b]&&v[b][x]){b=v[b][x];y.total=b.total=u(b.total,y.total)+f(T)||0}else{y.total=Jt(y.total+(f(T)||0))}}else{y.total=Jt(y.total+(T||0))}y.cum=(y.cum||0)+(T||0);y.points[E].push(y.cum);r[S]=y.cum}if(l==="percent"){d.usePercentage=true}this.stackedYData=r;d.oldStacks={}};zn.prototype.setPercentStacks=function(){var e=this,t=e.stackKey,n=e.yAxis.stacks,r=e.processedXData;tn([t,"-"+t],function(t){var i=r.length,s,o,u,a;while(i--){s=r[i];o=n[t]&&n[t][s];u=o&&o.points[e.index+","+i];if(u){a=o.total?100/o.total:0;u[0]=Jt(u[0]*a);u[1]=Jt(u[1]*a);e.stackedYData[i]=u[1]}}})};bt(qn.prototype,{addSeries:function(e,t,n){var r,i=this;if(e){t=_t(t,true);an(i,"addSeries",{options:e},function(){r=i.initSeries(e);i.isDirtyLegend=true;i.linkSeries();if(t){i.redraw(n)}})}return r},addAxis:function(e,t,n,r){var i=t?"xAxis":"yAxis",s=this.options,o;o=new On(this,wt(e,{index:this[i].length,isX:t}));s[i]=Mt(s[i]||{});s[i].push(e);if(_t(n,true)){this.redraw(r)}},showLoading:function(e){var t=this,n=t.options,r=t.loadingDiv,i=n.loading,s=function(){if(r){Dt(r,{left:t.plotLeft+$,top:t.plotTop+$,width:t.plotWidth+$,height:t.plotHeight+$})}};if(!r){t.loadingDiv=r=Pt(R,{className:X+"loading"},bt(i.style,{zIndex:10,display:J}),t.container);t.loadingSpan=Pt("span",null,i.labelStyle,r);on(t,"redraw",s)}t.loadingSpan.innerHTML=e||n.lang.loading;if(!t.loadingShown){Dt(r,{opacity:0,display:""});ln(r,{opacity:i.style.opacity},{duration:i.showDuration||0});t.loadingShown=true}s()},hideLoading:function(){var e=this.options,t=this.loadingDiv;if(t){ln(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){Dt(t,{display:J})}})}this.loadingShown=false}});bt(Un.prototype,{update:function(e,t,n){var r=this,i=r.series,s=r.graphic,o,u=i.data,a=i.chart,f=i.options;t=_t(t,true);r.firePointEvent("update",{options:e},function(){r.applyOptions(e);if(xt(e)){i.getAttribs();if(s){if(e&&e.marker&&e.marker.symbol){r.graphic=s.destroy()}else{s.attr(r.pointAttr[r.state||""])}}if(e&&e.dataLabels&&r.dataLabel){r.dataLabel=r.dataLabel.destroy()}}o=en(r,u);i.updateParallelArrays(r,o);f.data[o]=r.options;i.isDirty=i.isDirtyData=true;if(!i.fixedBox&&i.hasCartesianSeries){a.isDirtyBox=true}if(f.legendType==="point"){a.legend.destroyItem(r)}if(t){a.redraw(n)}})},remove:function(e,t){var n=this,r=n.series,i=r.points,s=r.chart,o,u=r.data;Kt(t,s);e=_t(e,true);n.firePointEvent("remove",null,function(){o=en(n,u);if(u.length===i.length){i.splice(o,1)}u.splice(o,1);r.options.data.splice(o,1);r.updateParallelArrays(n,"splice",o,1);n.destroy();r.isDirty=true;r.isDirtyData=true;if(e){s.redraw()}})}});bt(zn.prototype,{addPoint:function(e,t,n,r){var i=this,s=i.options,o=i.data,u=i.graph,a=i.area,f=i.chart,l=i.xAxis&&i.xAxis.names,c=u&&u.shift||0,h=s.data,p,d,v=i.xData,m,g;Kt(r,f);if(n){tn([u,a,i.graphNeg,i.areaNeg],function(e){if(e){e.shift=c+1}})}if(a){a.isArea=true}t=_t(t,true);p={series:i};i.pointClass.prototype.applyOptions.apply(p,[e]);m=p.x;g=v.length;if(i.requireSorting&&m<v[g-1]){d=true;while(g&&v[g-1]>m){g--}}i.updateParallelArrays(p,"splice",g,0,0);i.updateParallelArrays(p,g);if(l){l[m]=p.name}h.splice(g,0,e);if(d){i.data.splice(g,0,null);i.processData()}if(s.legendType==="point"){i.generatePoints()}if(n){if(o[0]&&o[0].remove){o[0].remove(false)}else{o.shift();i.updateParallelArrays(p,"shift");h.shift()}}i.isDirty=true;i.isDirtyData=true;if(t){i.getAttribs();f.redraw()}},remove:function(e,t){var n=this,r=n.chart;e=_t(e,true);if(!n.isRemoving){n.isRemoving=true;an(n,"remove",null,function(){n.destroy();r.isDirtyLegend=r.isDirtyBox=true;r.linkSeries();if(e){r.redraw(t)}})}n.isRemoving=false},update:function(t,n){var r=this,i=this.chart,s=this.userOptions,o=this.type,u=gt[o].prototype,a=["group","markerGroup","dataLabelsGroup"],f;tn(a,function(e){a[e]=r[e];delete r[e]});t=wt(s,{animation:false,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t);this.remove(false);for(f in u){if(u.hasOwnProperty(f)){this[f]=e}}bt(this,gt[t.type||o].prototype);tn(a,function(e){r[e]=a[e]});this.init(i,t);i.linkSeries();if(_t(n,true)){i.redraw(false)}}});bt(On.prototype,{update:function(t,n){var r=this.chart;t=r.options[this.coll][this.options.index]=wt(this.userOptions,t);this.destroy(true);this._addedPlotLB=e;this.init(r,bt(t,{events:e}));r.isDirtyBox=true;if(_t(n,true)){r.redraw()}},remove:function(e){var t=this.chart,n=this.coll,r=this.series,i=r.length;while(i--){if(r[i]){r[i].remove(false)}}Lt(t.axes,this);Lt(t[n],this);t.options[n].splice(this.options.index,1);tn(t[n],function(e,t){e.options.index=t});this.destroy();t.isDirtyBox=true;if(_t(e,true)){t.redraw()}},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}});var Xn=Ht(zn);gt.line=Xn;pn.area=wt(dn,{threshold:0});var Vn=Ht(zn,{type:"area",getSegments:function(){var e=this,t=[],n=[],r=[],i=this.xAxis,s=this.yAxis,o=s.stacks[this.stackKey],u={},a,f,l=this.points,c=this.options.connectNulls,h,p;if(this.options.stacking&&!this.cropped){for(h=0;h<l.length;h++){u[l[h].x]=l[h]}for(p in o){if(o[p].total!==null){r.push(+p)}}r.sort(function(e,t){return e-t});tn(r,function(t){var r=0,l;if(c&&(!u[t]||u[t].y===null)){return}else if(u[t]){n.push(u[t])}else{for(h=e.index;h<=s.series.length;h++){l=o[t].points[h+","+t];if(l){r=l[1];break}}a=i.translate(t);f=s.toPixels(r,true);n.push({y:null,plotX:a,clientX:a,plotY:f,yBottom:f,onMouseOver:B})}});if(n.length){t.push(n)}}else{zn.prototype.getSegments.call(this);t=this.segments}this.segments=t},getSegmentPath:function(e){var t=zn.prototype.getSegmentPath.call(this,e),n=[].concat(t),r,i=this.options,s=t.length,o=this.yAxis.getThreshold(i.threshold),u;if(s===3){n.push(Q,t[1],t[2])}if(i.stacking&&!this.closedStacks){for(r=e.length-1;r>=0;r--){u=_t(e[r].yBottom,o);if(r<e.length-1&&i.step){n.push(e[r+1].plotX,u)}n.push(e[r].plotX,u)}}else{this.closeSegment(n,e,o)}this.areaPath=this.areaPath.concat(n);return t},closeSegment:function(e,t,n){e.push(Q,t[t.length-1].plotX,n,Q,t[0].plotX,n)},drawGraph:function(){this.areaPath=[];zn.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,r=n.negativeColor,i=n.negativeFillColor,s=[["area",this.color,n.fillColor]];if(r||i){s.push(["areaNeg",r,i])}tn(s,function(r){var i=r[0],s=e[i];if(s){s.animate({d:t})}else{e[i]=e.chart.renderer.path(t).attr({fill:_t(r[2],En(r[1]).setOpacity(_t(n.fillOpacity,.75)).get()),zIndex:0}).add(e.group)}})},drawLegendSymbol:In.drawRectangle});gt.area=Vn;pn.spline=wt(dn);var $n=Ht(zn,{type:"spline",getPointSpline:function(e,t,n){var r=1.5,i=r+1,s=t.plotX,o=t.plotY,f=e[n-1],l=e[n+1],c,h,p,d,v;if(f&&l){var m=f.plotX,g=f.plotY,y=l.plotX,b=l.plotY,w;c=(r*s+m)/i;h=(r*o+g)/i;p=(r*s+y)/i;d=(r*o+b)/i;w=(d-h)*(p-s)/(p-c)+o-d;h+=w;d+=w;if(h>g&&h>o){h=u(g,o);d=2*o-h}else if(h<g&&h<o){h=a(g,o);d=2*o-h}if(d>b&&d>o){d=u(b,o);h=2*o-d}else if(d<b&&d<o){d=a(b,o);h=2*o-d}t.rightContX=p;t.rightContY=d}if(!n){v=[K,s,o]}else{v=["C",f.rightContX||f.plotX,f.rightContY||f.plotY,c||s,h||o,s,o];f.rightContX=f.rightContY=null}return v}});gt.spline=$n;pn.areaspline=wt(pn.area);var Jn=Vn.prototype,Kn=Ht($n,{type:"areaspline",closedStacks:true,getSegmentPath:Jn.getSegmentPath,closeSegment:Jn.closeSegment,drawGraph:Jn.drawGraph,drawLegendSymbol:In.drawRectangle});gt.areaspline=Kn;pn.column=wt(dn,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:false,halo:false},select:{color:"#C0C0C0",borderColor:"#000000",shadow:false}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:false,tooltip:{distance:6},threshold:0});var Qn=Ht(zn,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:true,init:function(){zn.prototype.init.apply(this,arguments);var e=this,t=e.chart;if(t.hasRendered){tn(t.series,function(t){if(t.type===e.type){t.isDirty=true}})}},getColumnMetrics:function(){var t=this,n=t.options,r=t.xAxis,i=t.yAxis,s=r.reversed,o,u={},l,c=0;if(n.grouping===false){c=1}else{tn(t.chart.series,function(n){var r=n.options,s=n.yAxis;if(n.type===t.type&&n.visible&&i.len===s.len&&i.pos===s.pos){if(r.stacking){o=n.stackKey;if(u[o]===e){u[o]=c++}l=u[o]}else if(r.grouping!==false){l=c++}n.columnIndex=l}})}var h=a(f(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||r.tickInterval||1),r.len),p=h*n.groupPadding,d=h-2*p,v=d/c,m=n.pointWidth,g=At(m)?(v-m)/2:v*n.pointPadding,y=_t(m,v-2*g),b=(s?c-(t.columnIndex||0):t.columnIndex)||0,w=g+(p+b*v-h/2)*(s?-1:1);return t.columnMetrics={width:y,offset:w}},translate:function(){var e=this,t=e.chart,n=e.options,r=e.borderWidth=_t(n.borderWidth,e.activePointCount>.5*e.xAxis.len?0:1),s=e.yAxis,l=n.threshold,c=e.translatedThreshold=s.getThreshold(l),h=_t(n.minPointLength,5),p=e.getColumnMetrics(),d=p.width,v=e.barW=u(d,1+2*r),m=e.pointXOffset=p.offset,g=-(r%2?.5:0),y=r%2?.5:1;if(t.renderer.isVML&&t.inverted){y+=1}if(n.pointPadding){v=o(v)}zn.prototype.translate.apply(e);tn(e.points,function(n){var r=_t(n.yBottom,c),o=a(u(-999-r,n.plotY),s.len+999+r),l=n.plotX+m,p=v,b=a(o,r),w,E,S,x=u(o,r)-b;if(f(x)<h){if(h){x=h;b=i(f(b-c)>h?r-h:c-(s.translate(n.y,0,1,0,1)<=c?h:0))}}n.barX=l;n.pointWidth=d;n.tooltipPos=t.inverted?[s.len-o,e.xAxis.len-l-p/2]:[l+p/2,o];w=i(l+p)+g;l=i(l)+g;p=w-l;S=f(b)<.5;E=i(b+x)+y;b=i(b)+y;x=E-b;if(S){b-=1;x+=1}n.shapeType="rect";n.shapeArgs={x:l,y:b,width:p,height:x}})},getSymbol:B,drawLegendSymbol:In.drawRectangle,drawGraph:B,drawPoints:function(){var t=this,n=this.chart,r=t.options,i=n.renderer,s=r.animationLimit||250,o,u;tn(t.points,function(a){var f=a.plotY,l=a.graphic,c;if(f!==e&&!isNaN(f)&&a.y!==null){o=a.shapeArgs;c=At(t.borderWidth)?{"stroke-width":t.borderWidth}:{};u=a.pointAttr[a.selected?et:Y]||t.pointAttr[Y];if(l){cn(l);l.attr(c)[n.pointCount<s?"animate":"attr"](wt(o))}else{a.graphic=l=i[a.shapeType](o).attr(u).attr(c).add(t.group).shadow(r.shadow,null,r.stacking&&!r.borderRadius)}}else if(l){a.graphic=l.destroy()}})},animate:function(e){var t=this,n=this.yAxis,r=t.options,i=this.chart.inverted,s={},o;if(S){if(e){s.scaleY=.001;o=a(n.pos+n.len,u(n.pos,n.toPixels(r.threshold)));if(i){s.translateX=o-n.len}else{s.translateY=o}t.group.attr(s)}else{s.scaleY=1;s[i?"translateX":"translateY"]=n.pos;t.group.animate(s,t.options.animation);t.animate=null}}},remove:function(){var e=this,t=e.chart;if(t.hasRendered){tn(t.series,function(t){if(t.type===e.type){t.isDirty=true}})}zn.prototype.remove.apply(e,arguments)}});gt.column=Qn;pn.bar=wt(pn.column);var Gn=Ht(Qn,{type:"bar",inverted:true});gt.bar=Gn;pn.scatter=wt(dn,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}">‚óè</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"},stickyTracking:false});var Yn=Ht(zn,{type:"scatter",sorted:false,requireSorting:false,noSharedTooltip:true,trackerGroups:["markerGroup","dataLabelsGroup"],takeOrdinalPosition:false,singularTooltips:true,drawGraph:function(){if(this.options.lineWidth){zn.prototype.drawGraph.call(this)}}});gt.scatter=Yn;pn.pie=wt(dn,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:false,colorByPoint:true,dataLabels:{distance:30,enabled:true,formatter:function(){return this.point.name}},ignoreHiddenPoint:true,legendType:"point",marker:null,size:null,showInLegend:false,slicedOffset:10,states:{hover:{brightness:.1,shadow:false}},stickyTracking:false,tooltip:{followPointer:true}});var Zn=Ht(Un,{init:function(){Un.prototype.init.apply(this,arguments);var e=this,t;if(e.y<0){e.y=null}bt(e,{visible:e.visible!==false,name:_t(e.name,"Slice")});t=function(t){e.slice(t.type==="select")};on(e,"select",t);on(e,"unselect",t);return e},setVisible:function(t){var n=this,r=n.series,i=r.chart;n.visible=n.options.visible=t=t===e?!n.visible:t;r.options.data[en(n,r.data)]=n.options;tn(["graphic","dataLabel","connector","shadowGroup"],function(e){if(n[e]){n[e][t?"show":"hide"](true)}});if(n.legendItem){i.legend.colorizeItem(n,t)}if(!r.isDirty&&r.options.ignoreHiddenPoint){r.isDirty=true;i.redraw()}},slice:function(e,t,n){var r=this,i=r.series,s=i.chart,o;Kt(n,s);t=_t(t,true);r.sliced=r.options.sliced=e=At(e)?e:!r.sliced;i.options.data[en(r,i.data)]=r.options;o=e?r.slicedTranslation:{translateX:0,translateY:0};r.graphic.animate(o);if(r.shadowGroup){r.shadowGroup.animate(o)}},haloPath:function(e){var t=this.shapeArgs,n=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(n.plotLeft+t.x,n.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}});var er={type:"pie",isCartesian:false,pointClass:Zn,requireSorting:false,noSharedTooltip:true,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:true,getColor:B,animate:function(e){var t=this,n=t.points,r=t.startAngleRad;if(!e){tn(n,function(e){var n=e.graphic,i=e.shapeArgs;if(n){n.attr({r:t.center[3]/2,start:r,end:r});n.animate({r:i.r,start:i.start,end:i.end},t.options.animation)}});t.animate=null}},setData:function(e,t,n,r){zn.prototype.setData.call(this,e,false,n,r);this.processData();this.generatePoints();if(_t(t,true)){this.chart.redraw(n)}},generatePoints:function(){var e,t=0,n,r,i,s=this.options.ignoreHiddenPoint;zn.prototype.generatePoints.call(this);n=this.points;r=n.length;for(e=0;e<r;e++){i=n[e];t+=s&&!i.visible?0:i.y}this.total=t;for(e=0;e<r;e++){i=n[e];i.percentage=t>0?i.y/t*100:0;i.total=t}},translate:function(e){this.generatePoints();var t=this,n=0,s=1e3,o=t.options,u=o.slicedOffset,f=u+o.borderWidth,p,d,v,m=o.startAngle||0,g=t.startAngleRad=h/180*(m-90),y=t.endAngleRad=h/180*(_t(o.endAngle,m+360)-90),b=y-g,w=t.points,E,S,x=o.dataLabels.distance,T=o.ignoreHiddenPoint,N,C=w.length,k;if(!e){t.center=e=t.getCenter()}t.getX=function(t,n){v=r.asin(a((t-e[1])/(e[2]/2+x),1));return e[0]+(n?-1:1)*l(v)*(e[2]/2+x)};for(N=0;N<C;N++){k=w[N];p=g+n*b;if(!T||k.visible){n+=k.percentage/100}d=g+n*b;k.shapeType="arc";k.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:i(p*s)/s,end:i(d*s)/s};v=(d+p)/2;if(v>1.5*h){v-=2*h}else if(v<-h/2){v+=2*h}k.slicedTranslation={translateX:i(l(v)*u),translateY:i(c(v)*u)};E=l(v)*e[2]/2;S=c(v)*e[2]/2;k.tooltipPos=[e[0]+E*.7,e[1]+S*.7];k.half=v<-h/2||v>h/2?1:0;k.angle=v;f=a(f,x/2);k.labelPos=[e[0]+E+l(v)*x,e[1]+S+c(v)*x,e[0]+E+l(v)*f,e[1]+S+c(v)*f,e[0]+E,e[1]+S,x<0?"center":k.half?"right":"left",v]}},drawGraph:null,drawPoints:function(){var e=this,t=e.chart,n=t.renderer,r,i,s=e.options.shadow,o,u;if(s&&!e.shadowGroup){e.shadowGroup=n.g("shadow").add(e.group)}tn(e.points,function(t){i=t.graphic;u=t.shapeArgs;o=t.shadowGroup;if(s&&!o){o=t.shadowGroup=n.g("shadow").add(e.shadowGroup)}r=t.sliced?t.slicedTranslation:{translateX:0,translateY:0};if(o){o.attr(r)}if(i){i.animate(bt(u,r))}else{t.graphic=i=n[t.shapeType](u).setRadialReference(e.center).attr(t.pointAttr[t.selected?et:Y]).attr({"stroke-linejoin":"round"}).attr(r).add(e.group).shadow(s,o)}if(t.visible!==undefined){t.setVisible(t.visible)}})},sortByAngle:function(e,t){e.sort(function(e,n){return e.angle!==undefined&&(n.angle-e.angle)*t})},drawLegendSymbol:In.drawRectangle,getCenter:Rn.getCenter,getSymbol:B};er=Ht(zn,er);gt.pie=er;zn.prototype.drawDataLabels=function(){var t=this,n=t.options,r=n.cursor,i=n.dataLabels,s=t.points,o,u,a=t.hasRendered||0,f,l;if(i.enabled||t._hasPointLabels){if(t.dlProcessOptions){t.dlProcessOptions(i)}l=t.plotGroup("dataLabelsGroup","data-labels",i.defer?W:V,i.zIndex||6);if(_t(i.defer,true)){l.attr({opacity:+a});if(!a){on(t,"afterAnimate",function(){if(t.visible){l.show()}l[n.animation?"animate":"attr"]({opacity:1},{duration:200})})}}u=i;tn(s,function(n){var s,a=n.dataLabel,c,h,p,d,v=n.connector,m=true;o=n.options&&n.options.dataLabels;s=_t(o&&o.enabled,u.enabled);if(a&&!s){n.dataLabel=a.destroy()}else if(s){i=wt(u,o);d=i.rotation;c=n.getLabelConfig();f=i.format?qt(i.format,c):i.formatter.call(c,i);i.style.color=_t(i.color,i.style.color,t.color,"black");if(a){if(At(f)){a.attr({text:f});m=false}else{n.dataLabel=a=a.destroy();if(v){n.connector=v.destroy()}}}else if(At(f)){h={fill:i.backgroundColor,stroke:i.borderColor,"stroke-width":i.borderWidth,r:i.borderRadius||0,rotation:d,padding:i.padding,zIndex:1};for(p in h){if(h[p]===e){delete h[p]}}a=n.dataLabel=t.chart.renderer[d?"text":"label"](f,0,-999,null,null,null,i.useHTML).attr(h).css(bt(i.style,r&&{cursor:r})).add(l).shadow(i.shadow)}if(a){t.alignDataLabel(n,a,i,null,m)}}})}};zn.prototype.alignDataLabel=function(e,t,n,r,s){var o=this.chart,u=o.inverted,a=_t(e.plotX,-999),f=_t(e.plotY,-999),l=t.getBBox(),c=this.visible&&(e.series.forceDL||o.isInsidePlot(a,i(f),u)||r&&o.isInsidePlot(a,u?r.x+1:r.y+r.height-1,u)),h;if(c){r=bt({x:u?o.plotWidth-f:a,y:i(u?o.plotHeight-a:f),width:0,height:0},r);bt(n,{width:l.width,height:l.height});if(n.rotation){t[s?"attr":"animate"]({x:r.x+n.x+r.width/2,y:r.y+n.y+r.height/2}).attr({align:n.align})}else{t.align(n,null,r);h=t.alignAttr;if(_t(n.overflow,"justify")==="justify"){this.justifyDataLabel(t,n,h,l,r,s)}else if(_t(n.crop,true)){c=o.isInsidePlot(h.x,h.y)&&o.isInsidePlot(h.x+l.width,h.y+l.height)}}}if(!c){t.attr({y:-999});t.placed=false}};zn.prototype.justifyDataLabel=function(e,t,n,r,i,s){var o=this.chart,u=t.align,a=t.verticalAlign,f,l;f=n.x;if(f<0){if(u==="right"){t.align="left"}else{t.x=-f}l=true}f=n.x+r.width;if(f>o.plotWidth){if(u==="left"){t.align="right"}else{t.x=o.plotWidth-f}l=true}f=n.y;if(f<0){if(a==="bottom"){t.verticalAlign="top"}else{t.y=-f}l=true}f=n.y+r.height;if(f>o.plotHeight){if(a==="top"){t.verticalAlign="bottom"}else{t.y=o.plotHeight-f}l=true}if(l){e.placed=!s;e.align(t,null,i)}};if(gt.pie){gt.pie.prototype.drawDataLabels=function(){var e=this,t=e.data,n,r=e.chart,s=e.options.dataLabels,o=_t(s.connectorPadding,10),l=_t(s.connectorWidth,1),c=r.plotWidth,h=r.plotHeight,p,d,v=_t(s.softConnector,true),m=s.distance,g=e.center,y=g[2]/2,b=g[1],w=m>0,E,S,x,T,N=[[],[]],C,k,L,A,O,M,_=[0,0,0,0],D=function(e,t){return t.y-e.y};if(!e.visible||!s.enabled&&!e._hasPointLabels){return}zn.prototype.drawDataLabels.apply(e);tn(t,function(e){if(e.dataLabel&&e.visible){N[e.half].push(e)}});O=2;while(O--){var P=[],H,B=[],j=N[O],F,I,q=j.length,R;if(!q){continue}e.sortByAngle(j,O-.5);M=T=0;while(!T&&j[M]){T=j[M]&&j[M].dataLabel&&(j[M].dataLabel.getBBox().height||21);M++}if(m>0){I=a(b+y+m,r.plotHeight);for(F=u(0,b-y-m);F<=I;F+=T){P.push(F)}H=P.length;if(q>H){A=[].concat(j);A.sort(D);M=q;while(M--){A[M].rank=M}M=q;while(M--){if(j[M].rank>=H){j.splice(M,1)}}q=j.length}for(M=0;M<q;M++){n=j[M];x=n.labelPos;var U=9999,z,X;for(X=0;X<H;X++){z=f(P[X]-x[1]);if(z<U){U=z;R=X}}if(R<M&&P[M]!==null){R=M}else if(H<q-M+R&&P[M]!==null){R=H-q+M;while(P[R]===null){R++}}else{while(P[R]===null){R++}}B.push({i:R,y:P[R]});P[R]=null}B.sort(D)}for(M=0;M<q;M++){var $,J;n=j[M];x=n.labelPos;E=n.dataLabel;L=n.visible===false?W:V;J=x[1];if(m>0){$=B.pop();R=$.i;k=$.y;if(J>k&&P[R+1]!==null||J<k&&P[R-1]!==null){k=a(u(0,J),r.plotHeight)}}else{k=J}C=s.justify?g[0]+(O?-1:1)*(y+m):e.getX(k===b-y-m||k===b+y+m?J:k,O);E._attr={visibility:L,align:x[6]};E._pos={x:C+s.x+({left:o,right:-o}[x[6]]||0),y:k+s.y-10};E.connX=C;E.connY=k;if(this.options.size===null){S=E.width;if(C-S<o){_[3]=u(i(S-C+o),_[3])}else if(C+S>c-o){_[1]=u(i(C+S-c+o),_[1])}if(k-T/2<0){_[0]=u(i(-k+T/2),_[0])}else if(k+T/2>h){_[2]=u(i(k+T/2-h),_[2])}}}}if(Xt(_)===0||this.verifyDataLabelOverflow(_)){this.placeDataLabels();if(w&&l){tn(this.points,function(t){p=t.connector;x=t.labelPos;E=t.dataLabel;if(E&&E._pos){L=E._attr.visibility;C=E.connX;k=E.connY;d=v?[K,C+(x[6]==="left"?5:-5),k,"C",C,k,2*x[2]-x[4],2*x[3]-x[5],x[2],x[3],Q,x[4],x[5]]:[K,C+(x[6]==="left"?5:-5),k,Q,x[2],x[3],Q,x[4],x[5]];if(p){p.animate({d:d});p.attr("visibility",L)}else{t.connector=p=e.chart.renderer.path(d).attr({"stroke-width":l,stroke:s.connectorColor||t.color||"#606060",visibility:L}).add(e.dataLabelsGroup)}}else if(p){t.connector=p.destroy()}})}}};gt.pie.prototype.placeDataLabels=function(){tn(this.points,function(e){var t=e.dataLabel,n;if(t){n=t._pos;if(n){t.attr(t._attr);t[t.moved?"animate":"attr"](n);t.moved=true}else if(t){t.attr({y:-999})}}})};gt.pie.prototype.alignDataLabel=B;gt.pie.prototype.verifyDataLabelOverflow=function(e){var t=this.center,n=this.options,r=n.center,i=n.minSize||80,s=i,o;if(r[0]!==null){s=u(t[2]-u(e[1],e[3]),i)}else{s=u(t[2]-e[1]-e[3],i);t[0]+=(e[3]-e[1])/2}if(r[1]!==null){s=u(a(s,t[2]-u(e[0],e[2])),i)}else{s=u(a(s,t[2]-e[0]-e[2]),i);t[1]+=(e[0]-e[2])/2}if(s<t[2]){t[2]=s;this.translate(t);tn(this.points,function(e){if(e.dataLabel){e.dataLabel._pos=null}});if(this.drawDataLabels){this.drawDataLabels()}}else{o=true}return o}}if(gt.column){gt.column.prototype.alignDataLabel=function(e,t,n,r,i){var s=this.chart,o=s.inverted,u=e.dlBox||e.shapeArgs,a=e.below||e.plotY>_t(this.translatedThreshold,s.plotSizeY),f=_t(n.inside,!!this.options.stacking);if(u){r=wt(u);if(o){r={x:s.plotWidth-r.y-r.height,y:s.plotHeight-r.x-r.width,width:r.height,height:r.width}}if(!f){if(o){r.x+=a?0:r.width;r.width=0}else{r.y+=a?r.height:0;r.height=0}}}n.align=_t(n.align,!o||f?"center":a?"right":"left");n.verticalAlign=_t(n.verticalAlign,o||f?"middle":a?"top":"bottom");zn.prototype.alignDataLabel.call(this,e,t,n,r,i)}}var tr=yt.TrackerMixin={drawTrackerPoint:function(){var t=this,n=t.chart,r=n.pointer,i=t.options.cursor,s=i&&{cursor:i},o=function(r){var i=r.target,s;if(n.hoverSeries!==t){t.onMouseOver()}while(i&&!s){s=i.point;i=i.parentNode}if(s!==e&&s!==n.hoverPoint){s.onMouseOver(r)}};tn(t.points,function(e){if(e.graphic){e.graphic.element.point=e}if(e.dataLabel){e.dataLabel.element.point=e}});if(!t._hasTracking){tn(t.trackerGroups,function(e){if(t[e]){t[e].addClass(X+"tracker").on("mouseover",o).on("mouseout",function(e){r.onTrackerMouseOut(e)}).css(s);if(C){t[e].on("touchstart",o)}}});t._hasTracking=true}},drawTrackerGraph:function(){var e=this,t=e.options,n=t.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),i=r.length,s=e.chart,o=s.pointer,u=s.renderer,a=s.options.tooltip.snap,f=e.tracker,l=t.cursor,c=l&&{cursor:l},h=e.singlePoints,p,d,v=function(){if(s.hoverSeries!==e){e.onMouseOver()}},m="rgba(192,192,192,"+(S?1e-4:.002)+")";if(i&&!n){d=i+1;while(d--){if(r[d]===K){r.splice(d+1,0,r[d+1]-a,r[d+2],Q)}if(d&&r[d]===K||d===i){r.splice(d,0,Q,r[d-2]+a,r[d-1])}}}for(d=0;d<h.length;d++){p=h[d];r.push(K,p.plotX-a,p.plotY,Q,p.plotX+a,p.plotY)}if(f){f.attr({d:r})}else{e.tracker=u.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?V:W,stroke:m,fill:n?m:J,"stroke-width":t.lineWidth+(n?0:2*a),zIndex:2}).add(e.group);tn([e.tracker,e.markerGroup],function(e){e.addClass(X+"tracker").on("mouseover",v).on("mouseout",function(e){o.onTrackerMouseOut(e)}).css(c);if(C){e.on("touchstart",v)}})}}};if(gt.column){Qn.prototype.drawTracker=tr.drawTrackerPoint}if(gt.pie){gt.pie.prototype.drawTracker=tr.drawTrackerPoint}if(gt.scatter){Yn.prototype.drawTracker=tr.drawTrackerPoint}bt(Fn.prototype,{setItemEvents:function(e,t,n,r,i){var s=this;(n?t:e.legendGroup).on("mouseover",function(){e.setState(Z);t.css(s.options.itemHoverStyle)}).on("mouseout",function(){t.css(e.visible?r:i);e.setState()}).on("click",function(t){var n="legendItemClick",r=function(){e.setVisible()};t={browserEvent:t};if(e.firePointEvent){e.firePointEvent(n,t,r)}else{an(e,n,t,r)}})},createCheckboxForItem:function(e){var t=this;e.checkbox=Pt("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},t.options.itemCheckboxStyle,t.chart.container);on(e.checkbox,"click",function(t){var n=t.target;an(e,"checkboxClick",{checked:n.checked},function(){e.select()})})}});O.legend.itemStyle.cursor="pointer";bt(qn.prototype,{showResetZoom:function(){var e=this,t=O.lang,n=e.options.chart.resetZoomButton,r=n.theme,i=r.states,s=n.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},r,i&&i.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,false,s)},zoomOut:function(){var e=this;an(e,"selection",{resetSelection:true},function(){e.zoom()})},zoom:function(e){var t=this,n,r=t.pointer,i=false,s;if(!e||e.resetSelection){tn(t.axes,function(e){n=e.zoom()})}else{tn(e.xAxis.concat(e.yAxis),function(e){var t=e.axis,s=t.isXAxis;if(r[s?"zoomX":"zoomY"]||r[s?"pinchX":"pinchY"]){n=t.zoom(e.min,e.max);if(t.displayBtn){i=true}}})}s=t.resetZoomButton;if(i&&!s){t.showResetZoom()}else if(!i&&xt(s)){t.resetZoomButton=s.destroy()}if(n){t.redraw(_t(t.options.chart.animation,e&&e.animation,t.pointCount<100))}},pan:function(e,t){var n=this,r=n.hoverPoints,i;if(r){tn(r,function(e){e.setState()})}tn(t==="xy"?[1,0]:[1],function(t){var r=e[t?"chartX":"chartY"],s=n[t?"xAxis":"yAxis"][0],o=n[t?"mouseDownX":"mouseDownY"],f=(s.pointRange||0)/2,l=s.getExtremes(),c=s.toValue(o-r,true)+f,h=s.toValue(o+n[t?"plotWidth":"plotHeight"]-r,true)-f;if(s.series.length&&c>a(l.dataMin,l.min)&&h<u(l.dataMax,l.max)){s.setExtremes(c,h,false,false,{trigger:"pan"});i=true}n[t?"mouseDownX":"mouseDownY"]=r});if(i){n.redraw(false)}Dt(n.container,{cursor:"move"})}});bt(Un.prototype,{select:function(e,t){var n=this,r=n.series,i=r.chart;e=_t(e,!n.selected);n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e;r.options.data[en(n,r.data)]=n.options;n.setState(e&&et);if(!t){tn(i.getSelectedPoints(),function(e){if(e.selected&&e!==n){e.selected=e.options.selected=false;r.options.data[en(e,r.data)]=e.options;e.setState(Y);e.firePointEvent("unselect")}})}})},onMouseOver:function(e){var t=this,n=t.series,r=n.chart,i=r.tooltip,s=r.hoverPoint;if(s&&s!==t){s.onMouseOut()}t.firePointEvent("mouseOver");if(i&&(!i.shared||n.noSharedTooltip)){i.refresh(t,e)}t.setState(Z);r.hoverPoint=t},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut");if(!t||en(this,t)===-1){this.setState();e.hoverPoint=null}},importEvents:function(){if(!this.hasImportedEvents){var e=this,t=wt(e.series.options.point,e.options),n=t.events,r;e.events=n;for(r in n){on(e,r,n[r])}this.hasImportedEvents=true}},setState:function(e,t){var n=this,r=n.plotX,i=n.plotY,s=n.series,o=s.options.states,u=pn[s.type].marker&&s.options.marker,a=u&&!u.enabled,f=u&&u.states[e],l=f&&f.enabled===false,c=s.stateMarkerGraphic,h=n.marker||{},p=s.chart,d,v=s.halo,m,g,y;e=e||Y;y=n.pointAttr[e]||s.pointAttr[e];if(e===n.state&&!t||n.selected&&e!==et||o[e]&&o[e].enabled===false||e&&(l||a&&f.enabled===false)||e&&h.states&&h.states[e]&&h.states[e].enabled===false){return}if(n.graphic){d=u&&n.graphic.symbolName&&y.r;n.graphic.attr(wt(y,d?{x:r-d,y:i-d,width:2*d,height:2*d}:{}));if(c){c.hide()}}else{if(e&&f){d=f.radius;g=h.symbol||s.symbol;if(c&&c.currentSymbol!==g){c=c.destroy()}if(!c){if(g){s.stateMarkerGraphic=c=p.renderer.symbol(g,r-d,i-d,2*d,2*d).attr(y).add(s.markerGroup);c.currentSymbol=g}}else{c[t?"animate":"attr"]({x:r-d,y:i-d})}}if(c){c[e&&p.isInsidePlot(r,i,p.inverted)?"show":"hide"]()}}m=o[e]&&o[e].halo;if(m&&m.size){if(!v){s.halo=v=p.renderer.path().add(s.seriesGroup)}v.attr(bt({fill:En(n.color||s.color).setOpacity(m.opacity).get()},m.attributes))[t?"animate":"attr"]({d:n.haloPath(m.size)})}else if(v){v.attr({d:[]})}n.state=e},haloPath:function(e){var t=this.series,n=t.chart,r=t.getPlotBox(),i=n.inverted;return n.renderer.symbols.circle(r.translateX+(i?t.yAxis.len-this.plotY:this.plotX)-e,r.translateY+(i?t.xAxis.len-this.plotX:this.plotY)-e,e*2,e*2)}});bt(zn.prototype,{onMouseOver:function(){var e=this,t=e.chart,n=t.hoverSeries;if(n&&n!==e){n.onMouseOut()}if(e.options.events.mouseOver){an(e,"mouseOver")}e.setState(Z);t.hoverSeries=e},onMouseOut:function(){var e=this,t=e.options,n=e.chart,r=n.tooltip,i=n.hoverPoint;if(i){i.onMouseOut()}if(e&&t.events.mouseOut){an(e,"mouseOut")}if(r&&!t.stickyTracking&&(!r.shared||e.noSharedTooltip)){r.hide()}e.setState();n.hoverSeries=null},setState:function(e){var t=this,n=t.options,r=t.graph,i=t.graphNeg,s=n.states,o=n.lineWidth,u;e=e||Y;if(t.state!==e){t.state=e;if(s[e]&&s[e].enabled===false){return}if(e){o=s[e].lineWidth||o+(s[e].lineWidthPlus||0)}if(r&&!r.dashstyle){u={"stroke-width":o};r.attr(u);if(i){i.attr(u)}}}},setVisible:function(t,n){var r=this,i=r.chart,s=r.legendItem,o,u=i.options.chart.ignoreHiddenSeries,a=r.visible;r.visible=t=r.userOptions.visible=t===e?!a:t;o=t?"show":"hide";tn(["group","dataLabelsGroup","markerGroup","tracker"],function(e){if(r[e]){r[e][o]()}});if(i.hoverSeries===r){r.onMouseOut()}if(s){i.legend.colorizeItem(r,t)}r.isDirty=true;if(r.options.stacking){tn(i.series,function(e){if(e.options.stacking&&e.visible){e.isDirty=true}})}tn(r.linkedSeries,function(e){e.setVisible(t,false)});if(u){i.isDirtyBox=true}if(n!==false){i.redraw()}an(r,o)},setTooltipPoints:function(t){var n=this,r=[],i,o,f,l=n.xAxis,c=l&&l.getExtremes(),h=l?l.tooltipLen||l.len:n.chart.plotSizeX,p,d,v,m,g=[];if(n.options.enableMouseTracking===false||n.singularTooltips){return}if(t){n.tooltipPoints=null}tn(n.segments||n.points,function(e){r=r.concat(e)});if(l&&l.reversed){r=r.reverse()}if(n.orderTooltipPoints){n.orderTooltipPoints(r)}i=r.length;for(m=0;m<i;m++){p=r[m];d=p.x;if(d>=c.min&&d<=c.max){v=r[m+1];o=f===e?0:f+1;f=r[m+1]?a(u(0,s((p.clientX+(v?v.wrappedClientX||v.clientX:h))/2)),h):h;while(o>=0&&o<=f){g[o++]=p}}}n.tooltipPoints=g},show:function(){this.setVisible(true)},hide:function(){this.setVisible(false)},select:function(t){var n=this;n.selected=t=t===e?!n.selected:t;if(n.checkbox){n.checkbox.checked=t}an(n,t?"select":"unselect")},drawTracker:tr.drawTrackerGraph});bt(yt,{Axis:On,Chart:qn,Color:En,Point:Un,Tick:An,Renderer:N,Series:zn,SVGElement:Sn,SVGRenderer:xn,arrayMin:Wt,arrayMax:Xt,charts:j,dateFormat:M,format:qt,pathAnim:D,getOptions:gn,hasBidiBug:x,isTouchDevice:w,numberFormat:Bt,seriesTypes:gt,setOptions:mn,addEvent:on,removeEvent:un,createElement:Pt,discardElement:$t,css:Dt,each:tn,extend:bt,map:sn,merge:wt,pick:_t,splat:Mt,extendClass:Ht,pInt:Et,wrap:Ft,svg:S,canvas:T,vml:!S&&!T,product:I,version:q})})()